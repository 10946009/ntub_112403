<div class="row">
    <div class="col-1"></div>
    <div class="col-10">
        <div class="return_pre" style="margin-top: -80px; margin-left: -40px;">
            <h3 onclick="showInfo()" title="上一頁">
                <div class="return_1"><i class="fa-regular fa-circle-left"></i><strong>&thinsp;返回</strong>
                </div>
                <div class="return_2"><strong>返回上一頁</strong></div>
            </h3>
        </div>
    </div>
    <div class="col-1"></div>
</div>
<div class="row">
    <div class="col-1"></div>
    <div class="col-10 total_att">
        <!-- 景點名稱 -->
        <div class="detail_name">
            <div class="detail_name__header">
                <div class="detail_name__headerGrid">
                    <h2 style="color: rgb(172, 78, 1)" id="attractions-detail-name"><strong>{{ detail.a_name }}</strong>
                    </h2>
                </div>
                <div class="detail_name__headerGrid icon_add">
                    {% comment %} <i class="fa-solid fa-arrow-up-from-bracket icon_name" id="share_icon"
                        onclick=" showShareLoaderAndContent()" title="分享"
                        style="border: black solid; border-radius: 60px;padding:8px 10px 8px 10px;"></i> {% endcomment %}
                    {% if is_favorite %}
                    <div class="icon_name" id="submitfavorite{{detail.id}}"
                        onclick="addFavorite_attractions(this,{{detail.id}})">
                        <i class="fas fa-regular fa-heart" title="已收藏" style="color: rgb(202, 13, 13);"></i>
                    </div>
                    {% else %}
                    <div class="icon_name" id="submitfavorite{{detail.id}}"
                        onclick="addFavorite_attractions(this,{{detail.id}})">
                        <i class="fas fa-regular fa-heart" title="收藏" style="color: rgb(111, 110, 110);"></i>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
        <!-- 星星數 -->
        <div class="rating" style="margin-bottom: 10px;">
            {% for i in "12345" %}
            {% if i|add:0 <= detail.rating %} <i class="fa-solid fa-star" style="color:rgb(226, 185, 2);"></i>
                {% else %}
                <!-- <i class="fa-regular fa-star"></i> -->
                <!-- <i class="fa-regular fa-star-half-stroke" style="color:rgb(226, 185, 2);"></i> -->
                <i class="fa-solid fa-star" style="color:rgb(185, 184, 184);"></i>
                {% endif %}
                {% endfor %}
                <span id="selectedRating">{{detail.rating}} / 5 ({{ detail.rating_total }}) </span>
        </div>
        <!-- 圖片(ok) -->
        <div class="detail_img" style="margin-top: 10px;">
            <div class="detail_img__header">
                <div class="detail_img__headerGrid">
                    <img src="/static/images/attractions/{{detail.place_id}}_0.jpg" class="show_detail_img"
                        style="margin-top: 1px; width:100%;max-width: 100%;" alt="" onclick="showPhotoDetail()">
                </div>
                <div class="detail_img__headerGrid">
                    <div class="row">
                        <img src="/static/images/attractions/{% if picture_list.1 %}{{picture_list.1}}{% else %}{{picture_list.0}}{% endif %}"
                            class="show_detail_img" style=" width:100%;" alt="" onclick="showPhotoDetail()">
                        <div class="image-container">
                            <img src="/static/images/attractions/{% if picture_list.1 %}{{picture_list.2}}{% else %}{{picture_list.0}}{% endif %}"
                                class="show_detail_img" style="width: 100%;margin-top: 2px;" alt=""
                                onclick="showPhotoDetail()">
                            <a id="see_all_btn" class="see_all_btn" onclick="showPhotoDetail()">查看所有照片</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 768px(RWD呈現圖片) -->
        <div class="att_slide">

            <div class="w3-content w3-display-container">
                {% for picture in picture_list %}
                <div class="w3-display-container mytotalSlides">
                    <img src="../static/images/attractions/{{picture}}" style="width:100%" onclick="showPhotoDetail()">
                </div>
                {% endfor %}
                <button class="w3-button w3-display-left w3-black" onclick="plustotalDivs(-1)">&#10094;</button>
                <button class="w3-button w3-display-right w3-black" onclick="plustotalDivs(1)">&#10095;</button>
            </div>
        </div>
        <!-- 景點整體介紹(ok) -->
        <div class="detail_detail" style="margin-top: -20px;">
            <div class="row">
                <div class="col-7">
                    <div class="detail_detail__header">
                        <div class="detail_detail__headerGrid">
                            <!-- 景點介紹 -->
                            <h6 style="font-size: 20px;">
                                <i class="fa-solid fa-book-open"></i>
                                關於
                            </h6>
                            <h6 style="margin-left: 30px; margin-top: 10px; margin-right: 30px; color: rgb(3, 54, 87);">
                                {{ detail.detail }}
                            </h6>
                            <hr style=" border:1px solid #777777; max-width: 95%;">
                            <!-- 地址(點擊連動到google導航) -->
                            <h6 style="margin-top: 20px; font-size: 20px;" id="attractions-detail-address">
                                <i class="fa-solid fa-location-dot" style="color: rgb(201, 1, 1);"></i>
                                地址：<a href="#" style="color: blue;">{{detail.address}}</a>
                            </h6>
                            <!-- 電話 -->
                            {% if detail.phone != "" %}<h6 id="attractions-detail-phone"
                                style="margin-top: 20px;font-size: 20px;">
                                <i class="fa-solid fa-phone" style="color: rgb(9, 145, 2);"></i>
                                電話：<a href="#" style="color: blue;">{{detail.phone }}</a>
                            </h6>{% endif %}
                            <!-- 營業時間 -->
                            <h6 style="margin-top: 20px;font-size: 20px;">
                                <i class="fa-solid fa-clock" style="color: rgb(2, 79, 161);"></i>
                                營業時間：<br>
                                <div style="margin-left: 25px; margin-top: 10px;">
                                    {% for opentime in opentime_list %}
                                    {{chinese_week}}
                                    禮拜{{opentime.week}}：{% for open in opentime.opening %}{{open}}{% endfor %}<br>
                                    {% endfor %}
                                </div>
                                <!-- <span style="color: red;">已打烊</span> <span style="color: rgb(21, 81, 140);">*開始營業時間：9:00</span> -->
                            </h6>
                            <!-- 建議停留時間 -->
                            <h6 style="margin-top: 20px;font-size: 20px;">
                                <i class="fa-solid fa-person-walking-luggage" style="color: rgb(174, 65, 150);"></i>
                                建議停留時間：{{ detail.stay_time }} 分鐘
                            </h6>
                            <!-- 旺季月份 -->
                            <h6 style="margin-top: 20px;font-size: 20px;">
                                <i class="fa-solid fa-calendar-days" style="color: rgb(168, 126, 0);"></i>
                                旺季月份：{%if detail.hot_month|length == 12%} 全年 {% else %} {{ detail.hot_month }} {% endif %}
                            </h6>
                            <!-- <hr style="border:2px solid #b3b2b2"> -->
                            <!-- 人潮資訊 -->
                            <h6 style="margin-top: 20px;font-size: 20px;">
                                <i class="fa-solid fa-person-circle-exclamation" style="color: rgb(67, 1, 159);"></i>
                                人潮資訊：
                                <!-- 星期 -->
                                <div class="week_number">
                                    <span class="tag-week" data-set="0">星期一</span>
                                    <span class="tag-week" data-set="1">星期二</span>
                                    <span class="tag-week" data-set="2">星期三</span>
                                    <span class="tag-week" data-set="3">星期四</span>
                                    <span class="tag-week" data-set="4">星期五</span>
                                    <span class="tag-week" data-set="5">星期六</span>
                                    <span class="tag-week" data-set="6">星期日</span>
                                </div>
                                <!-- 圖表 -->
                                <div>
                                    <!-- <canvas id="chart" width="300" height="150"></canvas> -->
                                    <canvas id="people_if_Chart" width="700%;" height="500%;"></canvas>
                                </div>
                            </h6>
                        </div>
                    </div>
                </div>
                <!-- 使用者提問及回答(ok) -->
                <div class="col-5">
                    <div class="detail_detail__headerGrid">
                        <div class="question">
                            <div class="qa-section">
                                <h5 style="font-size: 24px;">
                                    <i class="fa-solid fa-circle-question" style="color: gray;"></i>
                                    問題與解答
                                </h5>
                                <div style="margin-left:20px ;color: #707070;">
                                    <div class="row">
                                        {% for question in question_list %}
                                        {% if forloop.counter <= 2 %} <div class="comment">
                                            <div class="avatar">
                                                <img src="{{question.u.get_photo}}" alt="User Avatar">
                                            </div>
                                            <div class="comment-content">
                                                <h5 class="username">
                                                    {{question.u.username}}
                                                </h5>
                                                <p class="comment-text">
                                                    {{question.content}}
                                                    <br>
                                                    <span
                                                        style="color:gray;font-size: 12px; font-style: italic;">{{question.question_date}}
                                                        &emsp;
                                                        <!-- <span class="reply"
                                                                onclick="showAllLoaderAndContent()">回覆</span> -->
                                                    </span>
                                                </p>
                                            </div>
                                    </div>

                                    {% endif %}

                                    {%empty%}
                                    <div id="emptyQuestion">尚未有人發問</div>
                                    {% endfor %}
                                    {% if question_list|length %}
                                    <div>
                                        <h6 class="see_more" id="see_more" onclick="showAllLoaderAndContent()">
                                            查看所有問題（{{question_list | length }}）
                                        </h6>
                                    </div>
                                    {% endif %}

                                </div>
                                <!-- <h6>問：春節有開嗎？</h6>
                                    <h6>答：有初一早上9點開，其他時間8點半。</h6>
                                    <h6>
                                        問：春節有開嗎？
                                    </h6>
                                    <h6>
                                        答：有初一早上9點開，其他時間8點半。
                                    </h6>
                                    <h6>
                                        問：春節有開嗎？
                                    </h6>
                                    <h6>
                                        答：有初一早上9點開，其他時間8點半。
                                    </h6>
                                    <h6>
                                        問：春節有開嗎？
                                    </h6>
                                    <h6>
                                        答：有初一早上9點開，其他時間8點半。
                                    </h6> -->
                            </div>
                        </div>
                        <!-- <h6 style="margin-left: 20px; color:#a8a8a8; cursor: pointer;" class="toggleButton"
                                id="toggleButton">
                                <span>更多...</span>
                            </h6> -->

                        <!-- 提問按鈕 -->
                        {% if request.user.is_authenticated %}
                        <div style="text-align: center;">
                            <h6 class="ask_qa" id="ask_qa" onclick="showLoaderAndContent()">
                                提出問題
                            </h6>
                        </div>
                        {% else %}
                        <a href="/login">
                            <div style="text-align: center;">
                                <h6 class="ask_qa" id="ask_qa">
                                    登入後即可提問
                                </h6>
                            </div>
                        </a>
                        {% endif %}
                    </div>
                </div>
                <!-- 鄰近景點 -->
                <div class="row" style="margin-left: 10px;">
                    <h5 style="font-size: 24px; margin-top: 20px; margin-bottom: 20px;">
                        <i class="fa-solid fa-map"></i>
                        鄰近景點
                    </h5>
                    <div class="row">
                        {% for near in near_attractions %}
                        <div class=" detail_near__header" onclick="showInfo({{ near.id }})">
                            <div class="detail_near__headerGrid">
                                <img src="/static/images/attractions/{{near.place_id}}_0.jpg" class="show_detail_img"
                                    style="margin-top: 1px; width:100%;max-width: 100%; border: black solid;" alt="">
                            </div>
                            <div class="detail_near__headerGrid">
                                <h4 class="near_name" data-bottom-top="transform: translateY(-20px);opacity: 0"
                                    data-center="transform: translateY(0px);opacity: 1" data-a-Id="{{ near.id }}">
                                    {{near.a_name }}
                                </h4>
                                <!-- 星星數 -->
                                <div class="rating1" data-bottom-top="transform: translateY(-20px);opacity: 0"
                                    data-center="transform: translateY(0px);opacity: 1;">
                                    {% for i in "12345" %}
                                    {% if i|add:0 <= near.rating %} <span class="rating-star"
                                        style="color:rgb(214, 166, 54);">
                                        &#9733;</span>
                                        {% else %}
                                        <span class="rating-star">&#9733;</span>
                                        {% endif %}
                                        {% endfor %}
                                </div>
                                <!-- 評分 -->
                                <h6 class="score_RWD" style="margin-top:5px;"
                                    data-bottom-top="transform: translateY(-20px);opacity: 0"
                                    data-center="transform: translateY(0px);opacity: 1">
                                    <span id="list-selectedRating">{{ near.rating }}</span> / 5
                                    ({{near.rating_total}}則評分)
                                </h6>
                                <!-- 總瀏覽人數 -->
                                <h6 class="look_people" style="color:#8b8a8a;"
                                    data-bottom-top="transform: translateY(-20px);opacity: 0"
                                    data-center="transform: translateY(0px);opacity: 1">
                                    <i class="fa-regular fa-eye"></i>&thinsp;<span>{{near.hit}}</span>
                                </h6>
                            </div>
                        </div>
                        <hr class="near_hr">
                        {% endfor %}
                        {% comment %} <div class="detail_near__header">
                            <div class="detail_near__headerGrid">
                                <img src="/static/images/attractions/{{detail.place_id}}_0.jpg" class="show_detail_img"
                                    style="margin-top: 1px; width:100%;max-width: 100%;" alt="">
                            </div>
                            <div class="detail_near__headerGrid">
                                <h4 data-bottom-top="transform: translateY(-20px);opacity: 0"
                                    data-center="transform: translateY(0px);opacity: 1" data-a-Id="{{ item.id }}"
                                    onclick="showInfo({{ item.id }})">
                                    {{item.a_name }}</h3>
                                    <!-- 星星數 -->
                                    <div class="rating" data-bottom-top="transform: translateY(-20px);opacity: 0"
                                        data-center="transform: translateY(0px);opacity: 1;">
                                        {% for i in "12345" %}
                                        {% if i|add:0 <= item.rating %} <span class="rating-star"
                                            style="color: rgb(241, 226, 62);">
                                            &#9733;</span>
                                            {% else %}
                                            <span class="rating-star">&#9733;</span>
                                            {% endif %}
                                            {% endfor %}
                                    </div>
                                    <!-- 評分 -->
                                    <h6 style="margin-top:5px;"
                                        data-bottom-top="transform: translateY(-20px);opacity: 0"
                                        data-center="transform: translateY(0px);opacity: 1">
                                        綜合評分： <span id="list-selectedRating">{{ item.rating }}</span> / 5
                                        ({{item.rating_total}}則評分)
                                    </h6>
                                    <!-- 總瀏覽人數 -->
                                    <h6 style="color:#8b8a8a;" data-bottom-top="transform: translateY(-20px);opacity: 0"
                                        data-center="transform: translateY(0px);opacity: 1">
                                        <i class="fa-regular fa-eye"></i>&thinsp;瀏覽人數：<span>{{item.hit}}</span>人
                                    </h6>
                            </div>
                        </div> {% endcomment %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 訊問問題點擊載入動畫loader(ok) -->
    <div class="ask_big" id="ask_big" style="display: none;">
        <div class="background-mask" id="background-mask">
            <div class="loader"></div>
        </div>
    </div>
    <!-- 詢問問題彈跳框框(ok) -->
    <div class="out_ask_qa" id="out_ask_qa">
        <div id="ask_qa_container" class="ask_qa_container">
            <form class="ask-content" id="ask-content" action="/comment/{{detail.id}}/" method="POST">
                <div class="ask_container" id="ask_container">
                    <h5 style="font-size: 24px;">
                        提出問題
                    </h5>
                    <span style="font-size: 18px; font-style: italic;color: rgb(172, 78, 1)">
                        <strong>{{ detail.a_name }}</strong></span>
                    <span class="close" id="close" title="關閉">&times;</span>
                </div>
                <div class="ask_qa_con" style="padding: 20px;">
                    <div class="comment">
                        <div class="avatar">
                            <img src="{{user.get_photo}}" alt="User Avatar">
                        </div>
                        <div class="comment-content">
                            <h6 class="username">
                                {{request.user.username}}<br>
                                <span style="color: gray; font-size: 12px; font-style: italic;">公開發佈 &ensp;</span>
                                <i class="icon fa-solid fa-circle-exclamation" id="myIcon"></i>
                                <div class="tooltip1" id="myTooltip1">
                                    您的貼文會與個人資料名稱及相片一併公開顯示，出現在網站上的各個地方。貼文必須遵循TripFunChill政策的規定。</div>
                            </h6>
                        </div>
                    </div>
                    <div>
                        <textarea name="user_ask" id="user_ask" cols="100%" rows="7"
                            style="resize:none; border-radius: 10px;max-width: 100%; "
                            placeholder="向使用者社群提出詢或尋求建議。"></textarea>
                    </div>
                </div>
                <div class="post_ask">
                    <span class="ask_btn_cancel" id="ask_btn_cancel">取消</span>
                    <span class="ask_btn_ok" id="ask_btn_ok" onclick="sendAsk({{detail.id}})">張貼<span>
                </div>
            </form>
        </div>
    </div>
    <!-- 查看所有問題點擊載入動畫loader(ok) -->
    <div class="all_ask_big" id="all_ask_big" style="display: none;">
        <div class="all_background-mask" id="all_background-mask">
            <div class="all_loader"></div>
        </div>
    </div>
    <!-- 查看所有問題(ok) -->
    <div class="all_ask_qa" id="all_ask_qa">
        <div id="all_ask_qa_container" class="all_ask_qa_container">
            <form class="all_ask-content" id="all_ask-content" action="">
                <div class="all_ask_container" id="all_ask_container">
                    <h3 style="color: rgb(172, 78, 1)">
                        <strong>{{ detail.a_name }}</strong>
                    </h3>
                    <span style="color:rgb(67, 65, 65);font-size: 14px; font-style: italic;">
                        {{detail.address}}</span>
                    <span class="all_close" id="all_close" title="關閉">&times;</span>
                </div>
                <hr style=" border:1px solid #777777; max-width: 100%;">
                {% for question in question_list %}
                <div class="all_ask_qa_con">
                    <div class="all_ask_qa_comment">
                        <div class="all_ask_qa_list">
                            <h5>{{question.content}}</h5>
                            <div style="position: relative;">
                                <i class="fa-solid fa-ellipsis-vertical" style="cursor: pointer; font-size: 16px;"
                                    id="myIcon1"></i>
                                <!-- 檢舉按鈕 -->
                                <div class="tooltip2" id="myTooltip2" onclick="showReportLoaderAndContent()">
                                    檢舉
                                </div>
                            </div>
                        </div>
                        <div style="font-size: 18px; margin-bottom: 20px;">
                            <!-- 點擊張貼評論數字+1 -->
                            <span style="cursor: pointer;"><i class="fa-regular fa-comment"
                                    style=" color: rgb(89, 198, 53);margin-right: 5px;"></i><span
                                    id="commentCountElement">{{question.get_answer|length }}</span>
                            </span>
                        </div>
                    </div>
                    <!-- 放user新增回覆的框框 -->
                    <div class="comment_new" id="comment_new">
                        {% for answer in question.get_answer %}
                        <div class="comment">
                            <div class="avatar">
                                <img src="{{answer.u.get_photo}}" alt="User Avatar">
                            </div>
                            <div class="comment-content">
                                <h6 class="username">
                                    {{answer.u.username}}<br>
                                    <span
                                        style="color: gray; font-size: 12px; font-style: italic;">{{answer.answer_date}}
                                        &ensp;</span>
                                </h6>
                                <h6 style="margin-bottom: 20px;">{{answer.content}}</h6>
                                {% comment %} <span style="margin-right: 20px;cursor: pointer;font-size: 18px;"><i
                                        class="fa-regular fa-thumbs-up" style=" color: rgb(0, 102, 255);"></i>
                                    2</span> {% endcomment %}
                            </div>
                        </div>
                        {% comment %} （點開還有1個答案功能） {% endcomment %}
                        {% comment %} <h6 class="qa_text" id="qa_text">還有{{question.get_answer | length |add:"-1"}}個答案
                        </h6> {% endcomment %}

                        {% endfor %}
                    </div>


                    <div id="comment_qa" style="display: none;">
                    </div>
                    {% if request.user.is_authenticated %}
                    <div class="comment">
                        <div class="avatar">
                            <img src="{{request.user.get_photo}}" alt="User Avatar">
                        </div>
                        <div class="comment-content">
                            <h6 class="username">
                                {{request.user.username}}<br>
                                {% comment %} <span style="color: rgb(213, 160, 37); font-size: 12px; font-style: italic;">
                                    <i class="fa-solid fa-crown"></i>在地嚮導&ensp;
                                </span> {% endcomment %}
                            </h6>
                        </div>
                    </div>
                    <div>
                        <div>
                            <textarea name="answer_qa{{question.id}}" id="answer_qa" cols="100%" rows="5"
                                style="resize: none; border-radius: 10px; max-width: 90%; margin-left: 40px; padding: 10px;"
                                placeholder="回答問題"></textarea>
                        </div>
                        <div class="post_ask">
                            <span class="all_ask_btn_ok" id="all_ask_btn_ok"
                                onclick="sendAnswer({{question.id}})">張貼</span>
                        </div>
                    </div>
                    {% else %}
                    <a href="/login">
                        <div style="text-align: center;">
                            <h6 class="ask_qa" id="ask_qa">
                                登入後即可提問
                            </h6>
                        </div>
                    </a>
                    {% endif %}

                </div>
                <hr style=" border:1px solid #777777; max-width: 100%;">
                {% empty %}
                <div id="emptyQuestion">
                    <h4>尚未有人發問</h4>
                </div>
                {% endfor %}

                {% comment %} <div class="all_ask_qa_con">
                    <div class="all_ask_qa_comment">
                        <div class="all_ask_qa_list">
                            <h5>有餐廳嗎？</h5>
                            <div style="position: relative;">
                                <!-- id要不同才能點開icon顯示檢舉 -->
                                <i class="fa-solid fa-ellipsis-vertical" style="cursor: pointer; font-size: 16px;"
                                    id="myIcon1"></i>
                                <div class="tooltip2" id="myTooltip2">
                                    檢舉
                                </div>
                            </div>
                        </div>
                        <div style="font-size: 18px; margin-bottom: 20px;">
                            <span style="margin-right: 20px;cursor: pointer;"><i class="fa-regular fa-thumbs-up"
                                    style=" color: rgb(0, 102, 255);"></i> 12</span>
                            <span style="cursor: pointer;"><i class="fa-regular fa-comment"
                                    style=" color: rgb(89, 198, 53);"></i> 4</span>
                        </div>
                    </div>
                    <div class="comment">
                        <div class="avatar">
                            <img src="../static/images/dog.jpg" alt="User Avatar">
                        </div>
                        <div class="comment-content">
                            <h6 class="username">
                                彭德<br>
                                <span style="color: gray; font-size: 12px; font-style: italic;">3天前
                                    &ensp;</span>
                            </h6>
                            <h6 style="margin-bottom: 20px;">有 美食廣場 又便宜又好美。</h6>
                            <!-- <span style="margin-right: 20px;cursor: pointer;font-size: 18px;"><i
                                        class="fa-regular fa-thumbs-up" style=" color: rgb(0, 102, 255);"></i>
                                    5</span> -->
                            <h6 class="qa_text">還有3個答案</h6>
                        </div>
                    </div>
                    <div class="comment">
                        <div class="avatar">
                            <img src="../static/images/an.jpeg" alt="User Avatar">
                        </div>
                        <div class="comment-content">
                            <h6 class="username">
                                安妮雅<br>
                                <span style="color: rgb(213, 160, 37); font-size: 12px; font-style: italic;"><i
                                        class="fa-solid fa-crown"></i>在地嚮導
                                    &ensp;</span>
                            </h6>
                        </div>
                    </div>
                    <div>
                        <textarea name="" id="" cols="100%" rows="5"
                            style="resize:none; border-radius: 10px;max-width: 90%;margin-left: 40px; padding: 10px;"
                            placeholder="回答問題"></textarea>
                        <!-- 之後會補上判斷textarea是否是空值以觸發ask_btn_ok按鈕（空直不能點張貼） -->
                        <div class="post_ask">
                            <span class="all_ask_btn_ok" id="all_ask_btn_ok">張貼</span>
                        </div>
                    </div>
                </div> {% endcomment %}
            </form>
        </div>
    </div>
    <!-- 分享彈跳框框(ok) -->
    <div class="share_an_att" id="share_an_att">
        <div id="share_an_att_container" class="share_an_att_container">
            <form class="share_an_att-content" id="share_an_att-content" action="">
                <div class="share_att_container" id="share_att_container">
                    <h5 style="font-size: 22px;">分享到...</h5>
                    <i class="fa-solid fa-xmark" id="closeShare"></i>
                </div>
                <div class="share_att_con">
                    <div class="comment" id="comment_share" style="top:0; cursor: pointer; padding: 0 20px 0 20px; ">
                        <div class="" style="font-size: 36px;">
                            <i class="fa-brands fa-facebook"></i>
                        </div>
                        <div class="comment-content">
                            <h6 class="username" style="padding: 10px;">
                                分享到Facebook
                            </h6>
                        </div>
                    </div>
                    <div class="comment" id="comment_share" style="top:0; cursor: pointer; padding: 0 20px 0 20px; ">
                        <div class="" style="font-size: 36px;">
                            <i class="fa-brands fa-facebook-messenger"></i>
                        </div>
                        <div class="comment-content">
                            <h6 class="username" style="padding: 10px;">
                                分享到Messenger
                            </h6>
                        </div>
                    </div>
                    <div class="comment" id="comment_share" style="top:0; cursor: pointer; padding: 0 20px 0 20px; ">
                        <div class="" style="font-size: 36px;">
                            <i class="fa-brands fa-instagram" style="margin: 0 2px 0 3px;"></i>
                        </div>
                        <div class="comment-content">
                            <h6 class="username" style="padding: 10px;">
                                分享到Instagram
                            </h6>
                        </div>
                    </div>
                    <div class="comment" id="comment_share" style="top:0; cursor: pointer; padding: 0 20px 0 20px; ">
                        <div class="" style="font-size: 34px;">
                            <i class="fa-solid fa-envelope" style="margin:0 2px 0 1px;"></i>
                        </div>
                        <div class="comment-content">
                            <h6 class="username" style="padding: 10px;">
                                透過電子郵件分享
                            </h6>
                        </div>
                    </div>
                    <div class="comment" id="comment_share" style="top:0; cursor: pointer; padding: 0 20px 0 20px; ">
                        <div class="" style="font-size: 36px;">
                            <i class="fa-solid fa-qrcode" style="margin: 0 3px 0 3px;"></i>
                        </div>
                        <div class="comment-content">
                            <h6 class="username" style="padding: 10px;">
                                QR 碼
                            </h6>
                        </div>
                    </div>
                    <div class="comment" id="comment_share" style="top:0; cursor: pointer; padding: 0 20px 0 20px; "
                        onclick="Share_Copytips()">
                        <div class="" style="font-size: 30px; padding-top: 5px;">
                            <i class="fa-solid fa-link"></i>
                        </div>
                        <div class="comment-content">
                            <h6 class="username" style="padding: 10px;">
                                複製連結
                            </h6>
                        </div>
                    </div>
                    <div id="share_tips">已將連結複製到剪貼簿。</div>
                </div>
                <!-- <div class="post_ask">
                        <span class="ask_btn_cancel" id="ask_btn_cancel">取消</span>
                        <span class="ask_btn_ok" id="ask_btn_ok">張貼</span>
                    </div> -->
            </form>
        </div>
    </div>
    <!-- 查看所有圖片彈跳框框（ok) -->
    <div class="photo_att" id="photo_att">
        <div id="photo_big_att_container" class="photo_big_att_container">
            <form class="photo_att-content" id="photo_att-content" action="">
                <div class="photo_att_container" id="photo_att_container">
                    <h5 style="font-size: 24px;">關於<span style="color: rgb(172, 78, 1)">
                            {{detail.a_name}}</span>的所有照片&emsp;</h5>
                    <i class="fa-solid fa-xmark" id="closePhoto"></i>
                </div>
                <div class="row">
                    <div class="col-4 photo_book">
                        <h6>相簿</h6>
                        <div class="detail_photo" style="margin-top: 10px;">
                            <div class="detail_photo__header">
                                <div class="detail_photo__headerGrid" id="detail_photo__headerGrid_all">
                                    <img src="/static/images/attractions/{{detail.place_id}}_0.jpg"
                                        class="show_detail_img" style="margin-top: 1px; width:100%; max-width: 100%;"
                                        alt="">
                                    <div class="photo-text">
                                        所有照片（{{picture_list|length}}）
                                    </div>
                                </div>
                                {% comment %} <div class="detail_photo__headerGrid" id="detail_photo__headerGrid_user">
                                    <img src="/static/images/attractions/{{detail.place_id}}_0.jpg"
                                        class="show_detail_img" style="width: 100%;" alt="">
                                    <div class="photo-text">
                                        旅客（7）
                                    </div>
                                </div> {% endcomment %}
                            </div>
                        </div>
                    </div>
                    <!-- 右邊圖片框(切換) -->
                    <div class="col-8 photo_show_book">
                        <div class="show_all_detail_photo" id="show_all_detail_photo"
                            style="margin-top: 10px; height: 500px; overflow-y: scroll;">
                            <div class="show_detail_photo__header">
                                {% for picture in picture_list %}
                                <div class="choice_slide" data-set="{{forloop.counter}}">
                                    <div class="show_detail_photo__headerGrid">
                                        <img src="/static/images/attractions/{{picture}}" class="show_detail_img"
                                            id="show_detail_img" style="margin-top: 1px; width:100%; max-width: 100%;"
                                            alt="">
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                            <!--  -->

                            {% comment %} <div class="choice_slide">
                                <div class="show_detail_photo__header">
                                    <div class="show_detail_photo__headerGrid">
                                        <img src="/static/images/attractions/{{detail.place_id}}_0.jpg"
                                            class="show_detail_img"
                                            style="margin-top: 1px; width:100%; max-width: 100%;" alt="">
                                    </div>
                                    <div class="show_detail_photo__headerGrid">
                                        <img src="/static/images/attractions/{{detail.place_id}}_0.jpg"
                                            class="show_detail_img" style="width: 100%;" alt="">
                                    </div>
                                    <div class="show_detail_photo__headerGrid">
                                        <img src="/static/images/attractions/{{detail.place_id}}_0.jpg"
                                            class="show_detail_img" style="width: 100%;" alt="">
                                    </div>
                                </div>
                                <div class="show_detail_photo__header">
                                    <div class="show_detail_photo__headerGrid">
                                        <img src="/static/images/attractions/{{detail.place_id}}_0.jpg"
                                            class="show_detail_img"
                                            style="margin-top: 1px; width:100%; max-width: 100%;" alt="">
                                    </div>
                                    <div class="show_detail_photo__headerGrid">
                                        <img src="/static/images/attractions/{{detail.place_id}}_0.jpg"
                                            class="show_detail_img" style="width: 100%;" alt="">
                                    </div>
                                    <div class="show_detail_photo__headerGrid">
                                        <img src="/static/images/attractions/{{detail.place_id}}_0.jpg"
                                            class="show_detail_img" style="width: 100%;" alt="">
                                    </div>
                                </div>
                            </div>{% endcomment %}
                        </div>
                        <!-- 所有照片（幻燈片） -->
                        <div class="slide_this_photo" id="slide_this_photo" style="display: none; width: 100%;">
                            <div class="w3-content" style="max-width:800px;position:relative">
                                <div class="change_sigle_photo" id="change_sigle_photo">
                                    <i class="fa-regular fa-clone" style="margin-right:10px;"></i>照片集
                                </div>
                                <div class="illustrate_photo">
                                    <h6><strong>管理階層</strong></h6>
                                    <div style="position: absolute;bottom: 0;">
                                        <p>{{ detail.a_name }}</p>
                                    </div>
                                </div>
                                {% for picture in picture_list %}
                                <div class="mySlides">
                                    <div class="phototext">第{{forloop.counter}}頁&emsp;(共{{picture_list | length}}頁)
                                    </div>
                                    <img class="mySlide" src="/static/images/attractions/{{picture}}"
                                        style="width: 100%;">
                                </div>
                                {% endfor %}
                                <div style="text-align: center; font-size: 24px;">
                                    <a class="w3-btn-floating photo_btn_left" onclick="plusDivs(-1)">
                                        <i class="fa-solid fa-arrow-left"></i></a>
                                    <a class="w3-btn-floating photo_btn_right" onclick="plusDivs(1)">
                                        <i class="fa-solid fa-arrow-right"></i></a>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!-- 檢舉彈跳框框(ok) -->
    <div class="report_an_att" id="report_an_att">
        <div id="report_an_att_container" class="report_an_att_container">
            <form class="report_an_att-content" id="report_an_att-content" action="">
                <div class="report_att_container" id="report_att_container">
                    <h5 style="font-size: 22px;">你要檢舉何種濫用行為？</h5>
                    <i class="fa-solid fa-xmark" id="closereport"></i>
                </div>
                <div class="report_att_con">
                    <div class="comment" id="comment_share" style="top:0; cursor: pointer; padding: 0 20px 0 20px; "
                        onclick="Report_Copytips()">
                        <div class="" style="font-size: 36px;">
                            <i class="fa-regular fa-circle-xmark" style="color: rgb(37, 152, 1);"></i>
                        </div>
                        <div class="comment-content">
                            <h6 class="username" style="padding: 10px;">
                                離題
                            </h6>
                        </div>
                    </div>
                    <div class="comment" id="comment_share" style="top:0; cursor: pointer; padding: 0 20px 0 20px; "
                        onclick="Report_Copytips()">
                        <div class="" style="font-size: 36px;">
                            <i class="fa-solid fa-ban" style="color: rgb(199, 3, 3);"></i>
                        </div>
                        <div class="comment-content">
                            <h6 class="username" style="padding: 10px;">
                                此內容不適用
                            </h6>
                        </div>
                    </div>
                    <div class="comment" id="comment_share" style="top:0; cursor: pointer; padding: 0 20px 0 20px; "
                        onclick="Report_Copytips()">
                        <div class="" style="font-size: 36px;">
                            <i class="fa-brands fa-adversal" style="color: rgb(3, 94, 199);"></i>
                        </div>
                        <div class="comment-content">
                            <h6 class="username" style="padding: 10px;">
                                廣告或垃圾內容
                            </h6>
                        </div>
                    </div>
                    <div class="comment" id="comment_share" style="top:0; cursor: pointer; padding: 0 20px 0 20px; "
                        onclick="Report_Copytips()">
                        <div class="" style="font-size: 34px;">
                            <i class="fa-regular fa-face-angry" style="color: rgb(199, 127, 3);"></i>
                        </div>
                        <div class="comment-content">
                            <h6 class="username" style="padding: 10px;">
                                仇恨、暴力或不當內容
                            </h6>
                        </div>
                    </div>
                    <div class="comment" id="comment_share" style="top:0; cursor: pointer; padding: 0 20px 0 20px; "
                        onclick="Report_Copytips()">
                        <div class="" style="font-size: 36px;">
                            <i class="fa-solid fa-circle-info" style="color: rgb(3, 72, 199);"></i>
                        </div>
                        <div class="comment-content">
                            <h6 class="username" style="padding: 10px;">
                                資訊不正確
                            </h6>
                        </div>
                    </div>
                    <div class="comment" id="comment_share" style="top:0; cursor: pointer; padding: 0 20px 0 20px; "
                        onclick="Report_Copytips()">
                        <div class="" style="font-size: 30px; padding-top: 5px;">
                            <i class="fa-solid fa-hand" style="color: rgb(134, 3, 199);"></i>
                        </div>
                        <div class="comment-content">
                            <h6 class="username" style="padding: 10px;">
                                其他
                            </h6>
                        </div>
                    </div>
                    <div id="report_tips">感謝您的舉報，我們將做進一步的審核！</div>
                </div>
            </form>
        </div>
    </div>
    <hr style="border:2px solid #777777">
    <!-- 其他資訊(ok) -->
    <div class="row">
        <div class="col-12 others1">
            <!-- 使用者總評論 -->
            <h5 style="font-size: 24px;">
                <i class="fa-solid fa-file" style="color: rgb(214, 149, 28);"></i>
                其他資訊
            </h5>
            <!-- 使用者按讚、收藏、分享、觀看人數 -->
            <div style="padding:0 100px 0 100px;">
            <div class="User_more_add_fav">
                <div class="User__header">
                    <!-- <div class="User__headerGrid" style="border-right: black dashed;">
                        <div class=" row" style="text-align:center;">
                            <div class="total_score_star">
                                <h2>
                                    <strong>按讚人數</strong>
                                </h2>
                            </div>
                            <div class="total_score_star">
                                <p style="font-size:60px;">
                                    <strong><i class="fa-solid fa-thumbs-up"
                                            style="color: rgb(42, 106, 189);"></i></strong>
                                </p>
                            </div>
                            <div class="total_score_star">
                                <h2>
                                    <strong>{{ detail.rating_total|add:"123" }}</strong>
                                </h2>
                            </div>
                        </div>
                    </div> -->
                    <div class="User__headerGrid" style="border-right: black dashed;">
                        <div class=" row" style="text-align:center;">
                            <div class="total_score_star">
                                <h2>
                                    <strong><i class="fa-solid fa-crown"
                                            style="color: rgb(214, 166, 54);"></i>總評分</strong>
                                </h2>
                            </div>
                            <div class="total_score_star">
                                <p style="font-size:60px;">
                                    <strong>{{detail.rating}}</strong>
                                </p>
                            </div>
                            <div class="total_star">
                                {% for i in "12345" %}
                                {% if i|add:0 <= detail.rating %}<span class="fa fa-star checked"></span>
                                    {% else %}
                                    <span class="fa fa-star"></span>
                                    {% endif %}
                                    {% endfor %}
                            </div>
                            <p>
                                {{detail.rating_total}}則評分
                            </p>
                        </div>
                    </div>
                    <div class="User__headerGrid" style="border-right: black dashed;">
                        <div class=" row" style="text-align:center;">
                            <div class="total_score_star">
                                <h2>
                                    <strong>收藏人數</strong>
                                </h2>
                            </div>
                            <div class="total_score_star">
                                <p style="font-size:60px;">
                                    <strong><i class="fa-solid fa-heart" style="color:rgb(186, 51, 51);"></i></strong>
                                </p>
                            </div>
                            <div class="total_score_star">
                                <h2>
                                    <strong>{{detail.get_favorite_count}}</strong>
                                </h2>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="User__headerGrid" style="border-right: black dashed;">
                        <div class=" row" style="text-align:center;">
                            <div class="total_score_star">
                                <h2>
                                    <strong>分享人數</strong>
                                </h2>
                            </div>
                            <div class="total_score_star">
                                <p style="font-size:60px;">
                                    <strong><i class="fa-solid fa-share-from-square"
                                            style="color: rgb(29, 101, 11);"></i></strong>
                                </p>
                            </div>
                            <div class="total_score_star">
                                <h2>
                                    <strong>0</strong>
                                </h2>
                            </div>
                        </div>
                    </div> -->
                    <div class="User__headerGrid">
                        <div class=" row" style="text-align:center;">
                            <div class="total_score_star">
                                <h2>
                                    <strong>觀看人數</strong>
                                </h2>
                            </div>
                            <div class="total_score_star">
                                <p style="font-size:60px;">
                                    <strong><i class="fa-solid fa-eye" style="color: gray;"></i></strong>
                                </p>
                            </div>
                            <div class="total_score_star">
                                <h2>
                                    <strong>{{detail.hit}}</strong>
                                </h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
        <!-- RWD(768px)會用到的大小 -->
        <div class="col-12 others2">
            <!-- 使用者總評論 -->
            <h5 style="font-size: 24px;">
                <i class="fa-solid fa-file" style="color: rgb(214, 149, 28);"></i>
                其他資訊
            </h5>
            <div class="row">
                <div class="col-3">
                    <div class="User__headerGrid">
                        <div class=" row" style="text-align:center;">
                            <div class="total_score_star">
                                <h2>
                                    <strong><i class="fa-solid fa-crown"
                                            style="color: rgb(214, 166, 54);"></i>總評分</strong>
                                </h2>
                            </div>
                            <div class="total_score_star">
                                <p style="font-size:60px;">
                                    <strong>{{detail.rating}}</strong>
                                </p>
                            </div>
                            <div class="total_star">
                                {% for i in "12345" %}
                                {% if i|add:0 <= detail.rating %}<span class="fa fa-star checked"></span>
                                    {% else %}
                                    <span class="fa fa-star"></span>
                                    {% endif %}
                                    {% endfor %}
                            </div>
                            <p>
                                {{detail.rating_total}}則評論
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-9" style="text-align: center;">
                    {% comment %} <div style="background-color: rgb(228, 202, 171);">
                        <h2>
                            <strong><i class="fa-solid fa-thumbs-up"
                                    style="color: rgb(42, 106, 189);margin-right: 10px;"></i></strong>
                            <span style="margin-right: 20px;">按讚人數</span>
                            <span>20</span>
                        </h2>
                    </div> {% endcomment %}
                    <div style="background-color: rgb(228, 202, 171);">
                        <h2>
                            <strong><i class="fa-solid fa-heart"
                                    style="color:rgb(186, 51, 51); margin-right: 10px;"></i></strong>
                            <span style="margin-right: 20px;">收藏人數</span>
                            <span>{{detail.get_favorite_count}}</span>
                        </h2>
                    </div>
                    {% comment %} <div style="background-color: rgb(228, 202, 171);">
                        <h2>
                            <strong><i class="fa-solid fa-share-from-square"
                                    style="color: rgb(29, 101, 11); margin-right: 10px;"></i></strong>
                            <span style="margin-right: 20px;">分享人數</span>
                            <span>20</span>
                        </h2>
                    </div> {% endcomment %}
                    <div style="background-color: rgb(228, 202, 171);">
                        <h2>
                            <strong><i class="fa-solid fa-eye" style="color: gray; margin-right: 10px;"></i></strong>
                            <span style="margin-right: 20px;">觀看人數</span>
                            <span>{{detail.hit}}</span>
                        </h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr style="border:2px solid #777777">
    <!-- 評論 -->
    <div class="row">
        <h5 style="font-size: 24px;">
            <i class="fa-solid fa-pen" style="color: gray;"></i>
            評論
        </h5>
        <div class="col-3 write_comment_btn">
            <div style="margin-left: 30px; margin-top: 10px;">
                <div>
                    {% if request.user.is_authenticated %}
                    <h5 class="comment_topic" id="write_comment" onclick="showCommentLoaderAndContent()">
                        <strong>發表評論</strong>
                    </h5>
                    {% else %}
                    <a href="/login" style="text-decoration:none;">
                        <h5 class="comment_topic" id="write_comment">
                            <strong>登入後發表評論</strong>
                    </a>
                    {% endif %}
                </div>
                <!-- 先註解 -->
                <!-- <div>
                    <h5 class="comment_topic" id="update_att_photo" onclick="showupdateLoaderAndContent()">
                        <strong>上傳景點照片</strong>
                    </h5>
                </div> -->
            </div>
        </div>
        <div class="col-9" style="margin-bottom:30px;">
            {% for comment in comment_list %}
            <div class="comment" style="margin-bottom:20px;">
                <div class="avatar">
                    <img src="{{comment.u.get_photo}}" alt="User Avatar">
                </div>
                <div class="comment-content userComment" id="{{comment.id}}">
                    <div style="display: flex; justify-content: space-between; position: relative;">
                        <h6 class="username">
                            {{comment.u.username}}<br>
                            {% comment %} <span style="color: rgb(213, 160, 37); font-size: 12px; font-style: italic;">
                                <i class="fa-solid fa-crown"></i>在地嚮導
                            </span> {% endcomment %}
                            {% comment %} <span style="color:gray;font-size: 12px; font-style: italic;">·4則評論 ·3張照片</span> {% endcomment %}
                        </h6>
                        <!-- 3個小點點(icon) -->
                        <i class="fa-solid fa-ellipsis-vertical" style="cursor: pointer;"
                            onclick="Del_comment(this)"></i>
                        <!-- 評論刪除顯示框框 -->
                        <div class="comment_delete-box">
                            刪除
                        </div>
                    </div>
                    <p class="comment-text">
                        {{comment.content}}
                        <br>
                        <!-- <span style="color:gray;font-size: 12px; font-style: italic;">Posted on May 28,
                                2033</span> -->
                    </p>
                    <!-- 只有他有點讚功能 -->
                    <span style="margin-right: 20px;cursor: pointer;" id="likeButton">
                        {% if request.user.id in comment.get_user_favorite %}
                        <i class="fa-thumbs-up fa-solid" style=" color: rgb(0, 102, 255);"></i>
                        {% else %}
                        <i class="fa-regular fa-thumbs-up" style=" color: rgb(0, 102, 255);"></i>
                        {% endif %}
                        <span id="likeCount">{{comment.get_favorite_count}}</span></span>
                    {% comment %} <div class="comment_user_ph" style="max-width: 100%;">
                        <img src="../static/images/att_picture.png" alt=""
                            style="width: 150px; cursor: pointer; border: black aolid;" onclick="showPhotoDetail()">
                        <img src="../static/images/att_picture.png" alt=""
                            style="width: 150px; cursor: pointer; border: black aolid;" onclick="showPhotoDetail()">
                        <img src="../static/images/att_picture.png" alt=""
                            style="width: 150px; cursor: pointer; border: black aolid;" onclick="showPhotoDetail()">
                        <img src="../static/images/att_picture.png" alt=""
                            style="width: 150px; cursor: pointer; border: black aolid;" onclick="showPhotoDetail()">
                    </div> {% endcomment %}
                </div>
            </div>
            {% empty %}
            <div style="display: flex; justify-content: center; margin-bottom: 20px; margin-bottom: 60px;">
                <h5>目前尚無留言！</h5>
            </div>
            {% endfor %}
            {% comment %} <div class="comment">
                <div class="avatar">
                    <img src="../static/images/dog.jpg" alt="User Avatar">
                </div>
                <div class="comment-content">
                    <h6 class="username">
                        彭德<br>
                        <span style="color: rgb(213, 160, 37); font-size: 12px; font-style: italic;"><i
                                class="fa-solid fa-crown"></i>在地嚮導</span>
                        <span style="color:gray;font-size: 12px; font-style: italic;">·7則評論
                            ·1張照片</span><br>
                        <span style="color:gray;font-size: 12px; font-style: italic;">3個月前</span>
                    </h6>
                    <!-- <div class="star_count">
                            <span style=" color: rgb(226, 185, 2);"><i class="fa-solid fa-star"></i></span>
                            <span style=" color: rgb(226, 185, 2);"><i class="fa-solid fa-star"></i></span>
                            <span style=" color: rgb(226, 185, 2);"><i class="fa-solid fa-star"></i></span>
                            <span><i class="fa-solid fa-star"></i></span>
                            <span><i class="fa-solid fa-star"></i></span>

                        </div> -->
                    <p class="comment-text">
                        我實在越來越覺得動物園越來越差，維修的東西擴建的項目越來越多，但都沒有東西完成！太誇張了!!!
                        <br>
                        <!-- <span style="color:gray;font-size: 12px; font-style: italic;">Posted on May 28,
                                2023</span> -->
                    </p>
                    <div class="comment_user_ph" style="max-width: 100%;">
                        <img src="../static/images/att_picture.png" alt=""
                            style="width: 150px; cursor: pointer; border: black aolid;" onclick="showPhotoDetail()">
                        <img src="../static/images/att_picture.png" alt=""
                            style="width: 150px; cursor: pointer; border: black aolid;" onclick="showPhotoDetail()">
                    </div>
                </div>
            </div>
            <div class="comment">
                <div class="avatar">
                    <img src="../static/images/peka.webp" alt="User Avatar">
                </div>
                <div class="comment-content">
                    <h6 class="username">
                        皮卡丘<br>
                        <!-- <span style="color: rgb(213, 160, 37); font-size: 12px; font-style: italic;"><i
                                    class="fa-solid fa-crown"></i>在地嚮導
                                &ensp;</span> -->
                        <span style="color:gray;font-size: 12px; font-style: italic;">·5則評論</span><br>
                        <span style="color:gray;font-size: 12px; font-style: italic;">5天前</span>
                    </h6>
                    <!-- <div class="star_count">
                            <span style=" color: rgb(226, 185, 2);"><i class="fa-solid fa-star"></i></span>
                            <span style=" color: rgb(226, 185, 2);"><i class="fa-solid fa-star"></i></span>
                            <span style=" color: rgb(226, 185, 2);"><i class="fa-solid fa-star"></i></span>
                            <span><i class="fa-solid fa-star"></i></span>
                            <span><i class="fa-solid fa-star"></i></span>
                        </div> -->
                    <p class="comment-text">
                        帶小孩來看動物很棒！可以玩一整天！廁所很多很方便,用餐座位如果能再多一些就好了!麥當勞大排長龍實在太誇張！希望能增設其他餐廳或便利商店~
                        <br>
                        <!-- <span style="color:gray;font-size: 12px; font-style: italic;">Posted on May 28,
                                2023</span> -->
                    </p>
                </div>
            </div> {% endcomment %}
            <!-- 分頁  -->
            <div class="page-container" style="display: flex ; justify-content: center;">
                <nav aria-label="Page navigation">
                    {% comment %} <ul class="pagination" id="pagination">
                        <li class="page-item">
                            <a class="page-link" href="#" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        <li class="page-item"><a class="page-link" href="#" data-page="1">1</a></li>
                        <li class="page-item"><a class="page-link" href="#" data-page="2">2</a></li>
                        <li class="page-item"><a class="page-link" href="#" data-page="3">3</a></li>
                        <li class="page-item">
                            <a class="page-link" href="#" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    </ul> {% endcomment %}
                </nav>
            </div>
        </div>
    </div>
    <!-- 評論彈跳框框(ok) -->
    <form class="ask-content" id="ask-content" action="/comment/{{detail.id}}/" method="POST">
        <div class="out_share_comment" id="out_share_comment">
            <div id="share_comment_container" class="share_comment_container">
                <form class="share_comment-content" id="share_comment-content" action="">
                    <div class="comment_container" id="comment_container">
                        <h5 style="font-size: 24px;">
                            {{ detail.a_name }}
                        </h5>
                        <!-- <span class="close" id="close" title="關閉">&times;</span> -->
                    </div>
                    <div class="share_comment_con" style="padding: 20px;">
                        <div class="comment">
                            <div class="avatar">
                                <img src="{{request.user.get_photo}}" alt="User Avatar">
                            </div>
                            <div class="comment-content">
                                <h6 class="username">
                                    {{request.user.username}}<br>
                                    <span style="color: gray; font-size: 14px; font-style: italic;">公開發佈
                                        &ensp;</span>
                                    <span class="show_com_info"><i class="comment_info fa-solid fa-circle-info"
                                            id="comment_info"></i></span>
                                    <div class="show_comment_info" id="show_comment_info">
                                        您的貼文會與個人資料名稱及相片一併公開顯示。您的貼文必須遵循政策的規定。</div>
                                </h6>
                            </div>
                        </div>
                        <!-- <div class="comment_rating" id="rating">
                                <div class="comment_star" data-value="1"><i class="fas fa-star"></i></div>
                                <div class="comment_star" data-value="2"><i class="fas fa-star"></i></div>
                                <div class="comment_star" data-value="3"><i class="fas fa-star"></i></div>
                                <div class="comment_star" data-value="4"><i class="fas fa-star"></i></div>
                                <div class="comment_star" data-value="5"><i class="fas fa-star"></i></div>
                            </div> -->
                        <div>
                            <textarea name="user_share_comment" id="user_share_comment" cols="100%" rows="5"
                                style="resize:none; border-radius: 10px;max-width: 100%;padding: 10px; "
                                placeholder="詳細說明你在這個地點的親身體驗。"></textarea>
                        </div>
                        <div class="image-container_ph">
                            <!-- 預覽圖片 -->
                            <div id="imagePreview"></div>
                        </div>
                        <!-- 上傳評論圖片 -->
                        {% comment %} <form action="" method="post" enctype="multipart/form-data">
                            <div class="add_comment_photo">
                                <label for="photoInput" class="add_ph">
                                    <i class="fa-solid fa-camera-retro"
                                        style="margin-right: 5px; margin-top: 5px;"></i><span>新增相片</span>
                                </label>
                                <input type="file" id="photoInput" accept="image/*" style="display: none;" multiple
                                    onchange="previewphoto(event)">
                            </div>
                        </form> {% endcomment %}
                    </div>
                    <div class="post_share_comment">
                        <span class="share_comment_btn_cancel" id="share_comment_btn_cancel">取消</span>
                        <span class="share_comment_btn_ok" id="share_comment_btn_ok"
                            onclick="sendComment({{detail.id}})">張貼</span>
                    </div>
                </form>
            </div>
        </div>
    </form>
    <!-- <hr style="border:2px solid #777777"> -->
    <!-- 上傳景點圖片彈跳框框(ok) -->
    <div class="out_update_att_ph" id="out_update_att_ph">
        <div id="update_att_ph_container" class="update_att_ph_container">
            <form class="update_att_ph-content" id="update_att_ph-content" action="">
                <div class="update_ph_container" id="update_ph_container">
                    <h5 style="font-size: 24px;">
                        {{ detail.a_name }}
                    </h5>
                    <!-- <span class="close" id="close" title="關閉">&times;</span> -->
                </div>
                <div class="update_att_ph_con" style="padding: 20px;">
                    <div class="comment">
                        <div class="avatar">
                            <img src="{{user.get_photo}}" alt="User Avatar">
                        </div>
                        <div class="update_att_ph-content">
                            <h6 class="username">
                                {{user.username}}<br>
                                <span style="color: gray; font-size: 14px; font-style: italic;">公開發佈 &ensp;</span>
                                <span class="show_update_info"><i class="comment_info fa-solid fa-circle-info"
                                        id="update_info"></i></span>
                                <div class="show_up_info" id="show_up_info">
                                    您上傳的景點照片會經過管理員審核後一併公開顯示。您必須遵循政策的規定。</div>
                            </h6>
                        </div>
                    </div>
                    <!-- 上傳評論圖片 -->
                    <div style="padding: 100px; border: black dashed; background-color: #f9edd2;">
                        <form action="" method="post" enctype="multipart/form-data">
                            <div class="up_date_photo">
                                <label for="updateInput" class="update_ph">
                                    <i class="fa-solid fa-camera-retro"
                                        style="margin-right: 5px; margin-top: 5px;"></i><span>新增相片</span>
                                </label>
                                <input type="file" id="updateInput" accept="image/*" style="display: none;" multiple
                                    onchange="update_previewphoto(event)">
                            </div>
                        </form>
                    </div>
                    <div class="update-container_ph">
                        <!-- 預覽圖片 -->
                        <div id="updatePreview"></div>
                    </div>
                </div>
                <div class="post_update_att_ph">
                    <span class="update_att_ph_btn_cancel" id="update_att_ph_btn_cancel">取消</span>
                    <span class="update_att_ph_btn_ok" id="update_att_ph_btn_ok">張貼</span>
                </div>
            </form>
        </div>
    </div>
</div>
</div>

<!-- <div class="col-12 col-s-12">
    <form class="modal-content animate" action="/action_page.php" method="post">
        關閉詳細景點資料
        <div class="imgcontainer">
            <span onclick="document.getElementById('id01').style.display='none'" class="close"
                title="Close Modal">&times;</span>
        </div>
        詳細景點資訊顯示
        <div class="container" style="padding-right:50px;
                    padding-left:50px;
                    padding-bottom:50px">
            <div>
                詳細景點名稱
                <h3 style="color: rgb(172, 78, 1)" id="attractions-detail-name">{{ detail.a_name }}</h3>
                詳細景點星星數
                <div class="rating" style="margin-bottom: 10px;">
                    {% for i in "12345" %}
                    {% if i|add:0 <= detail.rating %} <span class="rating-star" style="color: rgb(241, 226, 62);">
                        &#9733;</span>
                        {% else %}
                        <span class="rating-star">&#9733;</span>
                        {% endif %}
                        {% endfor %}
                        <span id="selectedRating"></span> / 5 ({{ detail.rating_total }})
                </div>
            </div>
            詳細景點圖片
            <div class="container1">
                <div class="mySlides">
                    <div class="numbertext">1 / 6</div>
                    <img src="/static/images/attractions/{{detail.place_id}}_0.jpg" style="width:100%">
                </div>
                <div class="mySlides">
                    <div class="numbertext">2 / 6</div>
                    <img src="../static/images/Datong.jpeg" style="width:100%">
                </div>
                <div class="mySlides">
                    <div class="numbertext">3 / 6</div>
                    <img src="../static/images/Xinyi.jpeg" style="width:100%">
                </div>
                <div class="mySlides">
                    <div class="numbertext">4 / 6</div>
                    <img src="../static/images/Shilin.jpeg" style="width:100%">
                </div>
                <div class="mySlides">
                    <div class="numbertext">5 / 6</div>
                    <img src="../static/images/Songshan.jpeg" style="width:100%">
                </div>
                <div class="mySlides">
                    <div class="numbertext">6 / 6</div>
                    <img src="../static/images/twotwoeight.jpeg" style="width:100%">
                </div>
                <a class="prev" onclick="plusSlides(-1)">❮</a>
                <a class="next" onclick="plusSlides(1)">❯</a>
                <div class="caption-container">
                    <p id="caption"></p>
                </div>
                <div class="row">
                    <div class="column">
                        <img class="demo cursor" src="/static/images/attractions/{{detail.place_id}}_0.jpg"
                            style="width:100%" onclick="currentSlide(1)" alt="北投溫泉">
                    </div>
                    <div class="column">
                        <img class="demo cursor" src="../static/images/Datong.jpeg" style="width:100%"
                            onclick="currentSlide(2)" alt="大稻埕">
                    </div>
                    <div class="column">
                        <img class="demo cursor" src="../static/images/Xinyi.jpeg" style="width:100%"
                            onclick="currentSlide(3)" alt="台北101">
                    </div>
                    <div class="column">
                        <img class="demo cursor" src="../static/images/Shilin.jpeg" style="width:100%"
                            onclick="currentSlide(4)" alt="士林夜市">
                    </div>
                    <div class="column">
                        <img class="demo cursor" src="../static/images/Songshan.jpeg" style="width:100%"
                            onclick="currentSlide(5)" alt="松山">
                    </div>
                    <div class="column">
                        <img class="demo cursor" src="../static/images/twotwoeight.jpeg" style="width:100%"
                            onclick="currentSlide(6)" alt="二二八公園">
                    </div>
                </div>
            </div>
            <hr style="border:2px solid #b3b2b2">
            <div class="change_btn">
                <div class="change1 active1">總覽</div>
                <div class="change2">評論</div>
            </div>
            <div class="change_content">
                總覽按鈕
                <div class="change_content1">
                    景點介紹
                    <h6>{{ detail.detail }}</h6>
                    詳細地址
                    <h5 id="attractions-detail-address">地址：{{ detail.address }}</h5>
                    詳細電話
                    {% if detail.phone != "" %}<h5 id="attractions-detail-phone">電話：{{ detail.phone }}</h5>{% endif %}
                    詳細營業時間
                    <h5>
                        營業時間： <span style="color: red;">已打烊</span> <span style="color: rgb(21, 81, 140);">*開始營業時間：9:00</span>
                    </h5>
                    詳細建議停留時間
                    <h5>建議停留時間：{{ detail.stay_time }}</h5>
                    詳細旺季月份
                    <h5>旺季月份：{{ detail.hot_month }}</h5>
                    <hr style="border:2px solid #b3b2b2">
                    使用者提問及回答
                    <div class="question">
                        <div class="qa-section">
                            <h5>問題與解答：</h5>
                            <h6 style="margin-left: 20px; color: #707070;">問：春節有開嗎？</h6>
                            <h6 style="margin-left: 20px; color: #707070;">答：有初一早上9點開，其他時間8點半。</h6>
                            <h6 style="margin-left: 20px; color: #707070;">
                                問：春節有開嗎？
                            </h6>
                            <h6 style="margin-left: 20px; color: #707070;">
                                答：有初一早上9點開，其他時間8點半。
                            </h6>
                            <h6 style="margin-left: 20px; color: #707070;">
                                問：春節有開嗎？
                            </h6>
                            <h6 style="margin-left: 20px; color: #707070;">
                                答：有初一早上9點開，其他時間8點半。
                            </h6>
                            <h6 style="margin-left: 20px; color: #707070;">
                                問：春節有開嗎？
                            </h6>
                            <h6 style="margin-left: 20px; color: #707070;">
                                答：有初一早上9點開，其他時間8點半。
                            </h6>
                        </div>
                        <h6 style="margin-left: 20px; color:#a8a8a8; cursor: pointer;" class="toggleButton"
                            id="toggleButton">
                            <span>更多...</span>
                        </h6>

                        <button style="border-radius: 8px;">
                            <i class="fa-solid fa-message" style="margin-right: 5px;"></i>我要發問
                        </button>
                    </div>
                    <hr style="border:2px solid #b3b2b2">
                    人潮資訊
                    <h5>
                        人潮資訊：
                    </h5>
                    人潮圖表
                    <div>
                        <canvas id="chart" width="300" height="150"></canvas>
                    </div>
                </div>
                評論按鈕
                <div class="change_content1">
                    使用者總評論
                    <h5>
                        評論摘要：
                    </h5>
                    <div class="row" style="margin-bottom: 20px;">
                        <hr style="border:2px solid #f1f1f1">
                        <div class="col-3">
                            <div class=" row">
                                <div class="total_score_star">
                                    <p style="font-size:60px;margin-left: 30px;">
                                        <strong>4.0</strong>
                                    </p>
                                </div>
                                <div class="total_star">
                                    <span class="fa fa-star checked"></span>
                                    <span class="fa fa-star checked"></span>
                                    <span class="fa fa-star checked"></span>
                                    <span class="fa fa-star checked"></span>
                                    <span class="fa fa-star"></span>
                                </div>
                                <p style="margin-left: 30px;">
                                    63,261 則評論
                                </p>
                            </div>
                        </div>
                        <div class="col-9">
                            <div class="row">
                                <div class="col-12">
                                    <div class="star_container">
                                        <div class="nu_star">
                                            5
                                        </div>
                                        <div class="bar-container">
                                            <div class="bar-5">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="star_container">
                                        <div class="nu_star">
                                            4
                                        </div>
                                        <div class="bar-container">
                                            <div class="bar-4">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="star_container">
                                        <div class="nu_star">
                                            3
                                        </div>
                                        <div class="bar-container">
                                            <div class="bar-3">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="star_container">
                                        <div class="nu_star">
                                            2
                                        </div>
                                        <div class="bar-container">
                                            <div class="bar-2">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="star_container">
                                        <div class="nu_star">
                                            1
                                        </div>
                                        <div class="bar-container">
                                            <div class="bar-1">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    使用者留言評論
                    <div class="comment">
                        <div class="avatar">
                            <img src="/static/images/head.png" alt="User Avatar">
                        </div>
                        <div class="comment-content">
                            <h5 class="username">
                                李
                            </h5>
                            <div class="rating">
                                <span class="rating-star" style="color: rgb(241, 226, 62);">&#9733;</span>
                                <span class="rating-star" style="color:rgb(241, 226, 62) ;">&#9733;</span>
                                <span class="rating-star" style="color: rgb(241, 226, 62);">&#9733;</span>
                                <span class="rating-star">&#9733;</span>
                                <span class="rating-star">&#9733;</span>
                            </div>
                            <p class="comment-text">
                                天氣冷來到動物園，動物們顯得心情不好，跟人類一樣也會冷到不想到，看到最多的是背影跟屁股，也是一種難得的經驗。
                                <br>
                                <span style="color:gray;font-size: 12px; font-style: italic;">Posted on May 28,
                                    2033</span>
                            </p>
                        </div>
                    </div>
                    <div class="comment">
                        <div class="avatar">
                            <img src="/static/images/head.png" alt="User Avatar">
                        </div>
                        <div class="comment-content">
                            <h5 class="username">
                                sun
                            </h5>
                            <div class="rating">
                                <span class="rating-star" style="color: rgb(241, 226, 62);">&#9733;</span>
                                <span class="rating-star" style="color:rgb(241, 226, 62) ;">&#9733;</span>
                                <span class="rating-star" style="color: rgb(241, 226, 62);">&#9733;</span>
                                <span class="rating-star" style="color: rgb(241, 226, 62);">&#9733;</span>
                                <span class="rating-star">&#9733;</span>
                            </div>
                            <p class="comment-text">
                                帶小孩來看動物很棒！可以玩一整天！廁所很多很方便,用餐座位如果能再多一些就好了!麥當勞大排長龍實在太誇張！希望能增設其他餐廳或便利商店~
                                <br>
                                <span style="color:gray;font-size: 12px; font-style: italic;">Posted on May 28,
                                    2023</span>
                            </p>
                        </div>
                    </div>
                    <div class="comment">
                        <div class="avatar">
                            <img src="/static/images/head.png" alt="User Avatar">
                        </div>
                        <div class="comment-content">
                            <h5 class="username">
                                李+0
                            </h5>
                            <div class="rating">
                                <span class="rating-star" style="color: rgb(241, 226, 62);">&#9733;</span>
                                <span class="rating-star" style="color:rgb(241, 226, 62) ;">&#9733;</span>
                                <span class="rating-star">&#9733;</span>
                                <span class="rating-star">&#9733;</span>
                                <span class="rating-star">&#9733;</span>
                            </div>
                            <p class="comment-text">
                                我實在越來越覺得動物園越來越差，維修的東西擴建的項目越來越多，但都沒有東西完成！太誇張了
                                <br>
                                <span style="color:gray;font-size: 12px; font-style: italic;">Posted on May 28,
                                    2023</span>
                            </p>
                        </div>
                    </div>
                    撰寫評論
                    <button style="border-radius: 8px;position: relative; left: 45%;">
                        <i class="fa-solid fa-pen" style="margin-right: 5px;"></i>我要評論
                    </button>
                </div>
            </div>
        </div>
        <div class="container" style="background-color:#f1f1f1">
            <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">
                Close
            </button>
            總瀏覽人數
            <h6 style="color:#8b8a8a; float: right;">
                <i class="fa-regular fa-eye"></i>&thinsp;瀏覽人數：<span>１</span>人
            </h6>
        </div>
    </form>
</div> -->
<script src="../static/js/slideshow.js"></script>
<script src="../static/js/sendcomment.js"></script>
<script src="../static/js/watchQuestions.js"></script>
<!-- 圖表會用到script -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<script>
    // // 評論刪除三個小點點
    // function Del_comment(icon) {
    //     var deleteBox = icon.nextElementSibling;
    //     deleteBox.style.display = (deleteBox.style.display === 'block') ? 'none' : 'block';
    //     //點擊其他地方刪除div消失（關閉）
    //     document.addEventListener('click', function (event) {
    //         if (!deleteBox.contains(event.target) && event.target !== icon) {
    //             deleteBox.style.display = 'none';
    //         }
    //     });
    // }

    var slideIndextotal = 1;
    showtotalDivs(slideIndextotal);

    function plustotalDivs(n) {
        showtotalDivs(slideIndextotal += n);
    }

    function showtotalDivs(n) {
        var i;
        var x = document.getElementsByClassName("mytotalSlides");
        if (n > x.length) { slideIndextotal = 1 }
        if (n < 1) { slideIndextotal = x.length }
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        x[slideIndextotal - 1].style.display = "block";
    }

    // 上傳景點圖片公開顯示tips
    var update_info = document.getElementById("update_info");
    var show_up_info = document.getElementById("show_up_info");
    update_info.addEventListener("click", function () {
        if (show_up_info.style.display === "block") {
            show_up_info.style.display = "none";
        } else {
            show_up_info.style.display = "block";
        }
    });
    // 如果用戶點其他地方，關閉提示
    document.addEventListener("click", function (event) {
        if (event.target !== update_info && event.target !== show_up_info) {
            show_up_info.style.display = "none";
        }
    });

    // 新增照片（上傳景點圖片）
    function update_previewphoto(event) {
        const updatePreview = document.getElementById("updatePreview");
        updatePreview.innerHTML = "";

        const files = event.target.files;
        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            if (file.type.startsWith("image/")) {
                const updateContainer = document.createElement("div");
                updateContainer.classList.add("update-container");
                // 刪除不要上傳的圖片(已經上傳但是不要)
                const update_closeButton = document.createElement("span");
                update_closeButton.innerHTML = "&times;";
                update_closeButton.classList.add("close-button");
                update_closeButton.onclick = function () {
                    updatePreview.removeChild(updateContainer);
                };

                const imgElement = document.createElement("img");
                imgElement.src = URL.createObjectURL(file);
                imgElement.classList.add("update-image");

                updateContainer.appendChild(update_closeButton);
                updateContainer.appendChild(imgElement);
                updatePreview.appendChild(updateContainer);
            }
        }
    }

    // 打開上傳景點圖片框框
    function showupdateLoaderAndContent() {
        var all_loader = document.getElementById("all_ask_big");
        var out_update_att_ph = document.getElementById("out_update_att_ph");
        all_loader.style.display = "block";
        setTimeout(function () {
            all_loader.style.display = "none";
            out_update_att_ph.style.display = "block";
        }, 500);
    }
    // 關閉上傳景點圖片方塊
    var update_att_photo = document.getElementById('update_att_photo');
    var update_att_ph_container = document.getElementById('update_att_ph_container');
    var out_update_att_ph = document.getElementById('out_update_att_ph');
    document.addEventListener("click", function (event) {
        if (event.target == out_update_att_ph) {
            out_update_att_ph.style.display = "none";
        }
    });
    var update_att_ph_btn_cancel = document.getElementById('update_att_ph_btn_cancel');
    update_att_ph_btn_cancel.addEventListener("click", function () {
        out_update_att_ph.style.display = "none";
    });

    // 打開評論框框
    function showCommentLoaderAndContent() {
        var all_loader = document.getElementById("all_ask_big");
        var out_share_comment = document.getElementById("out_share_comment");
        all_loader.style.display = "block";
        setTimeout(function () {
            all_loader.style.display = "none";
            out_share_comment.style.display = "block";
        }, 500);
    }
    // 關閉評論方塊
    var write_comment = document.getElementById('write_comment');
    var share_comment_container = document.getElementById('share_comment_container');
    var out_share_comment = document.getElementById('out_share_comment');
    document.addEventListener("click", function (event) {
        if (event.target == out_share_comment) {
            out_share_comment.style.display = "none";
        }
    });
    var share_comment_btn_cancel = document.getElementById('share_comment_btn_cancel');
    share_comment_btn_cancel.addEventListener("click", function () {
        out_share_comment.style.display = "none";
    });

    // 評論公開顯示tips
    var comment_info = document.getElementById("comment_info");
    var show_comment_info = document.getElementById("show_comment_info");
    comment_info.addEventListener("click", function () {
        if (show_comment_info.style.display === "block") {
            show_comment_info.style.display = "none";
        } else {
            show_comment_info.style.display = "block";
        }
    });
    // 如果用戶點其他地方，關閉提示
    document.addEventListener("click", function (event) {
        if (event.target !== comment_info && event.target !== show_comment_info) {
            show_comment_info.style.display = "none";
        }
    });

    // 新增照片（評論）
    function previewphoto(event) {
        const imagePreview = document.getElementById("imagePreview");
        imagePreview.innerHTML = "";

        const files = event.target.files;
        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            if (file.type.startsWith("image/")) {
                const previewContainer = document.createElement("div");
                previewContainer.classList.add("preview-container");
                // 刪除不要上傳的圖片(已經上傳但是不要)
                const closeButton = document.createElement("span");
                closeButton.innerHTML = "&times;";
                closeButton.classList.add("close-button");
                closeButton.onclick = function () {
                    imagePreview.removeChild(previewContainer);
                };

                const imgElement = document.createElement("img");
                imgElement.src = URL.createObjectURL(file);
                imgElement.classList.add("preview-image");

                previewContainer.appendChild(closeButton);
                previewContainer.appendChild(imgElement);
                imagePreview.appendChild(previewContainer);
            }
        }
    }

    // 星星數：
    // var rating = document.getElementById("rating");
    // var stars = rating.querySelectorAll(".comment_star");
    // var selectedRating = document.getElementById("selectedRating");
    // var currentRating = 0;

    // stars.forEach(function (star) {
    //     star.addEventListener("click", function () {
    //         var value = star.getAttribute("data-value");
    //         currentRating = value;
    //         updateRatingDisplay();
    //         updateStarColors(value);
    //     });

    //     star.addEventListener("click", function () {
    //         updateStarColors(currentRating);
    //     });

    //     star.addEventListener("click", function () {
    //         var value = star.getAttribute("data-value");
    //         currentRating = value;
    //         updateRatingDisplay();
    //     });
    // });

    // function updateStarColors(value) {
    //     stars.forEach(function (star) {
    //         var starValue = star.getAttribute("data-value");
    //         var starIcon = star.querySelector("i");

    //         if (starValue <= value) {
    //             starIcon.style.color = "rgb(226, 185, 2)"; // 亮起的星星颜色
    //         } else {
    //             starIcon.style.color = "gray"; // 未亮起的星星颜色
    //         }
    //     });
    // }





    // 幻燈片(切換過來的)
    var slideIndex = 1;
    showDivs(slideIndex);

    function plusDivs(n) {
        showDivs(slideIndex += n);
    }

    function showDivs(n) {
        var i;
        var x = document.getElementsByClassName("mySlides");
        if (n > x.length) { slideIndex = 1 }
        if (n < 1) { slideIndex = x.length };
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        x[slideIndex - 1].style.display = "block";
    }

    var closePhoto = document.getElementById('closePhoto');
    closePhoto.addEventListener("click", function () {
        photo_att.style.display = "none";
    });

    // focus點擊的地方（所有與旅客）
    var detail_photo__headerGrid_all = document.getElementById("detail_photo__headerGrid_all");//所有
    detail_photo__headerGrid_all.addEventListener("click", function () {
        detail_photo__headerGrid_all.style.border = "1px solid black";
        detail_photo__headerGrid_user.style.border = "none";
    });
    {% comment %} var detail_photo__headerGrid_user = document.getElementById("detail_photo__headerGrid_user");//旅客
    detail_photo__headerGrid_user.addEventListener("click", function () {
        detail_photo__headerGrid_user.style.border = "1px solid black";
        detail_photo__headerGrid_all.style.border = "none";
    }); {% endcomment %}

    // 切換相片和幻燈片功能
    var detail_photo__headerGrid_all = document.getElementById("detail_photo__headerGrid_all");
    var choice_slide = document.getElementsByClassName("choice_slide");
    var change_sigle_photo = document.getElementById("change_sigle_photo");
    var slide_this_photo = document.getElementById("slide_this_photo");
    var show_all_detail_photo = document.getElementById("show_all_detail_photo");
    var choice_slide = document.getElementsByClassName("choice_slide");
    var isHidden = true;
    var isChange = true;

    // 幻燈片（各個照片點擊跳出）
    for (var i = 0; i < choice_slide.length; i++) {
        choice_slide[i].addEventListener("click", function () {
            slideIndex = parseInt(this.dataset.set);
            showDivs(this.dataset.set);

            if (isHidden) {
                show_all_detail_photo.style.display = "none";
                slide_this_photo.style.display = "block";
            }
        });
    }
    // 相片集按鈕切換
    change_sigle_photo.addEventListener("click", function () {
        if (isChange) {
            slide_this_photo.style.display = "none";
            show_all_detail_photo.style.display = "block";
        }
    });
    // 所有（點擊）跳到相片集 在幻燈片時
    detail_photo__headerGrid_all.addEventListener("click", function () {
        if (isChange) {
            slide_this_photo.style.display = "none";
            show_all_detail_photo.style.display = "block";
        }
    });

    // loader動作（查看所有圖片）
    function showPhotoDetail() {
        var all_loader = document.getElementById("all_ask_big");
        var photo_att = document.getElementById("photo_att");
        all_loader.style.display = "block";
        setTimeout(function () {
            all_loader.style.display = "none";
            photo_att.style.display = "block";
        }, 500);
    }

    // loader動作 打開詢問問題方塊
    function showLoaderAndContent() {
        var loader = document.getElementById("ask_big");
        var out_ask_qa = document.getElementById("out_ask_qa");
        loader.style.display = "block";
        setTimeout(function () {
            loader.style.display = "none";
            out_ask_qa.style.display = "block";
        }, 500);
    }

    // 關閉詢問問題方塊
    var ask_qa = document.getElementById('ask_qa');
    var ask_qa_container = document.getElementById('ask_qa_container');
    var out_ask_qa = document.getElementById('out_ask_qa');
    document.addEventListener("click", function (event) {
        if (event.target == out_ask_qa) {
            out_ask_qa.style.display = "none";
        }
    });
    var close = document.getElementById('close');
    close.addEventListener("click", function () {
        out_ask_qa.style.display = "none";
    });
    var ask_btn_cancel = document.getElementById('ask_btn_cancel');
    ask_btn_cancel.addEventListener("click", function () {
        out_ask_qa.style.display = "none";
    });

    // ask_tips提示點擊
    var icon = document.getElementById("myIcon");
    var tooltip = document.getElementById("myTooltip1");

    icon.addEventListener("click", function () {
        if (tooltip.style.display === "block") {
            tooltip.style.display = "none";
        } else {
            tooltip.style.display = "block";
        }
    });
    // 如果用戶點其他地方，關閉提示
    document.addEventListener("click", function (event) {
        if (event.target !== icon && event.target !== tooltip) {
            tooltip.style.display = "none";
        }
    });
    // loader動作（查看更多問題）打開查看更多問提問題方塊
    function showAllLoaderAndContent() {
        watchQuestions();
        var all_loader = document.getElementById("all_ask_big");
        var all_ask_qa = document.getElementById("all_ask_qa");
        all_loader.style.display = "block";
        setTimeout(function () {
            all_loader.style.display = "none";
            all_ask_qa.style.display = "block";
        }, 500);
    }

    // 關閉查看更多問提問題方塊
    var see_more = document.getElementById('see_more');
    var all_ask_qa_container = document.getElementById('all_ask_qa_container');
    var all_ask_qa = document.getElementById('all_ask_qa');

    document.addEventListener("click", function (event) {
        if (event.target == all_ask_qa) {
            all_ask_qa.style.display = "none";
        }
    });
    var all_close = document.getElementById('all_close');
    all_close.addEventListener("click", function () {
        all_ask_qa.style.display = "none";
    });

    // 打開分享方塊
    function showShareLoaderAndContent() {
        var all_loader = document.getElementById("all_ask_big");
        var share_an_att = document.getElementById("share_an_att");
        all_loader.style.display = "block";
        setTimeout(function () {
            all_loader.style.display = "none";
            share_an_att.style.display = "block";
        }, 500);
    }
    // 關閉分享方塊
    var share_icon = document.getElementById('share_icon');
    var share_an_att_container = document.getElementById('share_an_att_container');
    var share_an_att = document.getElementById('share_an_att');

    document.addEventListener("click", function (event) {
        if (event.target == share_an_att) {
            share_an_att.style.display = "none";
        }
    });
    var closeShare = document.getElementById('closeShare');
    closeShare.addEventListener("click", function () {
        share_an_att.style.display = "none";
    });

    // 已經copy提示
    function Share_Copytips() {
        var x = document.getElementById("share_tips");
        x.className = "copy";
        setTimeout(function () {
            x.className = x.className.replace("copy", "");
        }, 3000);
    }

    // 打開檢舉方塊
    function showReportLoaderAndContent() {
        var report_an_att = document.getElementById("report_an_att");
        report_an_att.style.display = "block";
    }
    // 關閉檢舉方塊
    var report_icon = document.getElementById('report_icon');
    var report_an_att_container = document.getElementById('report_an_att_container');
    var report_an_att = document.getElementById('report_an_att');

    document.addEventListener("click", function (event) {
        if (event.target == report_an_att) {
            report_an_att.style.display = "none";
        }
    });
    var closereport = document.getElementById('closereport');
    closereport.addEventListener("click", function () {
        report_an_att.style.display = "none";
    });

    // 已經檢舉提示
    function Report_Copytips() {
        var x = document.getElementById("report_tips");
        x.className = "report";
        setTimeout(function () {
            x.className = x.className.replace("report", "");
        }, 3000);
    }

    //人潮分佈圖(有加時間,數量)
    var total_data = [];
    var data_crowdlist = [];
    var crowd = JSON.parse('{{crowd | safe}}')
    for (var i = 0; i < crowd.length; i++) {
        for (var j = 0; j < crowd[i].crowd.length; j++) {
            data_crowdlist.push({
                "Time": `2020–09–01 ${j}:00`,
                "Volume": crowd[i].crowd[j]
            });
        }
        total_data.push({
            "week": crowd[i].week,
            "crowd": data_crowdlist
        });
        data_crowdlist = [];
    }
    var tagWeek = document.getElementsByClassName("tag-week");
    var crowdCanvas = document.getElementById('people_if_Chart')
    var ctx = crowdCanvas.getContext('2d');
    var chart;
    for (var i = 0; i < tagWeek.length; i++) {
        tagWeek[i].addEventListener("click", function () {
            if (chart) {
                chart.destroy();
            }
            var data = total_data[this.dataset.set].crowd;
            if (data.map(x => x.Volume).reduce((a, b) => a + b) == 0) { //判斷加總是否為0
                ctx.clearRect(0, 0, crowdCanvas.width, crowdCanvas.height);
                ctx.font = "72px Arial";
                ctx.fillStyle = "black";
                ctx.fillText("休息", 200, 200);
            } else {
                chart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: data.map(x => x.Time.slice(11, 16)),
                        datasets: [{
                            // label: '人潮流量',
                            data: data.map(x => x.Volume),
                            // Line
                            lineTension: 0,
                            backgroundColor: '#FF5376',
                            borderColor: '#FF5376',
                            fill: false,
                            borderWidth: 2,
                            // Point
                            pointRadius: 5,
                            pointHoverRadius: 7,
                        }]
                    },
                    options: {
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true, // 从0开始
                                    max: 100, // 最大值设置为100
                                }
                            }]
                        },
                        title: {
                            display: true,
                            // text: '人潮流量',
                            position: 'bottom',
                            fontSize: 24,
                            fontStyle: 'normal',
                            fontFamily: 'Century Gothic'
                        },
                        legend: {
                            display: false
                        },
                        responsive: false,
                        interaction: {
                            mode: 'point' // 设置交互模式为'point'以禁用点击和悬停
                        },
                        elements: {
                            line: {
                                tension: 0, // 设置线条的曲线张力为0，使线条更直接
                            }
                        },
                    }
                });
            }

        });
    }
    var currentDate = new Date();
    var currentWeek = (currentDate.getDay() + 6) % 7;
    tagWeek[currentWeek].click(); //今天
    // 判斷提出問題時，textarea有沒有東西
    var user_ask = document.querySelector("#user_ask");
    var ask_btn_ok = document.querySelector("#ask_btn_ok");

    user_ask.addEventListener("input", function () {
        if (user_ask.value.trim() === "") {
            ask_btn_ok.style.color = "grey";
            ask_btn_ok.style.border = "none";
            ask_btn_ok.style.pointerEvents = "none"; // 禁用點擊事件
        } else {
            ask_btn_ok.style.color = "black";
            ask_btn_ok.style.border = "#000 solid";
            ask_btn_ok.style.pointerEvents = "auto"; // 啟用點擊事件
        }
    });
</script>
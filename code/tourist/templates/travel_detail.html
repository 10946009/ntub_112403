{% extends 'base.html' %}

{% block title %}è¡Œç¨‹è©³ç´°é é¢{% endblock %}
{% block content %}
<link rel="stylesheet" href="../static/css/travel_detail.css">
{% endblock %}

{% block body %}
{% comment %} å…§å®¹åœ¨é€™~~~ {% endcomment %}
<!-- æ™¯é»åœ–ç‰‡é‚£å¡Š -->
<div class="row">
  <div class="col-1"></div>
  <!-- èƒŒæ™¯å¤§åœ–ï¼ˆæ”¾è¡Œç¨‹çš„åªè¦ä¸€å¼µä»£è¡¨ï¼‰ -->
  <div class="col-10 trip_im">
    <div class="trip_bg_img">
      <img class="trip_img" src="../static/images/bg7.png" alt="">
      <!-- è¡Œç¨‹å¤©æ•¸è·Ÿè¡Œç¨‹æ¨™é¡Œ -->
      <div class="trip_text">
        <span>
          <h4><strong>{{ct_detail.travel_day}}å¤©</strong></h4>
        </span>
        <p>{{ct_detail.ct_name}}</p>
      </div>
      <!-- è¡Œç¨‹æ”¶è— -->
      <div class="icon_add">
        {% if ct_detail.is_favorite == "1" %}
        <div class="travel_icon_name" id="submitfavorite{{ct_detail.id}}"
          onclick="addFavorite_travel(this,{{ct_detail.id}})">
          <i class="fas fa-regular fa-heart" title="å·²æ”¶è—" style="color: rgb(202, 13, 13);"></i>
        </div>
        {% else %}
        <div class="travel_icon_name" id="submitfavorite{{ct_detail.id}}"
          onclick="addFavorite_travel(this,{{ct_detail.id}})">
          <i class="fas fa-regular fa-heart" title="æ”¶è—" style="color: rgb(111, 110, 110);"></i>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
<div class="col-1"></div>
</div>
<!-- è¡Œç¨‹è©³ç´°é‚£å¡Š -->
<div class="row" id="triggerPoint">
  <div class="col-1"></div>
  <!-- ä½¿ç”¨è€…ã€è¡Œç¨‹ç›¸é—œ -->
  <div class="col-10">
    <div class="row">
      <div class="col-9 trip_detail_att">
        <!-- ä½¿ç”¨è€…åç¨±ã€é ­è²¼ -->
        <div class="review-content" style="margin-top:20px;">
          <div style="display: flex; align-items: center;">
            <img class="trip_user-img" src="../static/images/an.jpeg" alt="">
            <div>
              <h6 class="username" style="font-size: 18px;">
                {{ct_detail.u.username}}
              </h6>
              <h6><strong style="color:rgb(110, 109, 109);">{{ct_detail.create_date|date:"Yå¹´mæœˆdæ—¥"}}</strong></h6>
            </div>
          </div>
        </div>
        <!-- è¡Œç¨‹ç°¡ä»‹ï¼ˆä½¿ç”¨è€…è‡ªå·±æ‰“ï¼‰ -->
        <div style="margin-bottom:20px;">
          <h6 style="margin:20px 0px 10px 5px;"><span style="color:gray;">{% if ct_detail.detail == "" %}ç›®å‰é‚„æ²’æœ‰å…§å®¹
              {% else %}{{ct_detail.detail}}{% endif %}</span></h6>
        </div>
        <!-- å¹¾å€‹äººæ”¶è— -->
        {% comment %} <div>
          <span style="border: black solid;padding: 0 5px 0 5px; background-color: white;font-size: 18px;"> <i
              class="fas fa-regular fa-heart" style="color: rgb(202, 13, 13);margin-right: 5px;"></i>xx</span>
        </div> {% endcomment %}
        <hr style="margin-bottom:20px;">
        {% for day in ct_detail.get_choice_day %}
        <div class="day_detail" id="sec1">
          <!-- å¤©æ•¸ -->
          <div style="margin-bottom:20px;">
            <span class="day_name">ç¬¬{{ day.day }}å¤©</span>
          </div>
          <!-- æ™¯é»åç¨± -->
          {% for attractions in day.get_attractions %}
            <div class="section" id="section{{day.day}}-{{forloop.counter}}">
              <div style="margin-bottom:20px;position:relative;">
                <i class="fa-solid fa-location-dot" style="font-size: 24px;margin-right: 10px;color:rgb(212, 61, 61);"></i>
                <span style="font-size: 22px;font-weight: 600;">{{ attractions.a.a_name }}</span>
                {% if forloop.counter == 1 %}
                  <a href="https://www.google.com/maps/dir//{{attractions.a.location_x}},{{attractions.a.location_y}}/" target="_blank" style="text-decoration: none;">
                    <span class="loc"><i class="fa-solid fa-location-arrow"></i>å°èˆª</span>
                  </a>
                {% else %}
                  <a href="https://www.google.com/maps/dir/{{attractions.get_previous.a.location_x}},{{attractions.get_previous.a.location_y}}/{{attractions.a.location_x}},{{attractions.a.location_y}}/" target="_blank" style="text-decoration: none;">
                    <span class="loc"><i class="fa-solid fa-location-arrow"></i>å°èˆª</span>
                  </a>
                {% endif %}
                
                {% if forloop.counter != 1 %}
                <span class="distance_pre">è·é›¢ä¸Šå€‹é»ç´„{{attractions.distance_time}}åˆ†</span>
                {% endif %}
                  <br>
                <h6 style="margin:10px 0 0 30px;color: rgb(95, 95, 95);font-weight: 600;">åœç•™{{ attractions.a.stay_time }}åˆ†</h6>
              </div>
              <!-- æ™¯é»åœ–ç‰‡ -->
              <div class="gallery">
                <div class="image">
                  <img class="img_del_trip" src="../static/images/attractions/{{ attractions.a.place_id }}_0.jpg" alt="Image 1">
                </div>
                <div class="image">
                  <img class="img_del_trip" src="../static/images/attractions/{{ attractions.a.place_id }}_1.jpg" alt="Image 2">
                </div>
                <div class="image">
                  <img class="img_del_trip" src="../static/images/attractions/{{ attractions.a.place_id }}_2.jpg" alt="Image 3">
                </div>
              </div>
              <!-- æ™¯é»èªªæ˜ -->
              <div style="margin-top:10px;">
                <p style="font-weight:500;font-size:18px;color: rgb(96, 72, 26);">{{attractions.a.detail}}</p>
              </div>
            </div>
          {% endfor %}
        </div>
        <hr style="margin:20px 0 30px 0;">
        {% endfor %}
        {% comment %} <div class="day_detail" id="sec2">
          <!-- å¤©æ•¸ -->
          <div style="margin-bottom:20px;margin-top: 20px;">
            <span class="day_name">ç¬¬2å¤©</span>
          </div>
          <!-- æ™¯é»åç¨± -->
          <div id="section3">
            <div style="margin-bottom:20px;position:relative;">
              <i class="fa-solid fa-location-dot" style="font-size: 24px;margin-right: 10px;"></i><span
                style="font-size: 22px;font-weight: 600;">å£«æ—å¤œå¸‚</span>
                <a href="https://www.google.com/maps/dir/{{a_data.choice_ct.start_location_x}},{{a_data.choice_ct.start_location_y}}/{{a_data.a.location_x}},{{a_data.a.location_y}}/" target="_blank" style="text-decoration: none;">
                  <span style="font-size:20px; position: absolute;right:20px;top:10px"><i class="fa-solid fa-location-arrow"></i>å°èˆª</span>
                </a>
                <span style="font-size:14px;color:gray;position: absolute;right:20px;top:40px">è·é›¢ä¸Šå€‹é»ç´„xxåˆ†</span>
                <br>
              <h6 style="margin:10px 0 0 30px;color: rgb(95, 95, 95);font-weight: 600;">åœç•™xxåˆ†</h6>
            </div>
            <!-- æ™¯é»åœ–ç‰‡ -->
            <div class="gallery">
              <div class="image">
                <img src="../static/images/bg5.png" alt="Image 1">
              </div>
              <div class="image">
                <img src="../static/images/bg7.png" alt="Image 2">
              </div>
              <div class="image">
                <img src="../static/images/bg8.jpg" alt="Image 3">
              </div>
            </div>
            <!-- æ™¯é»èªªæ˜ -->
            <div>
              <p>åŒ—éƒ¨äººã„‰æ—©é¤-æ¼¢å ¡ğŸ”<br><br>
                å°ï¼Œæˆ‘æ²’åƒéï¼Œåµè‘—è¦ä¾†åƒã€‚æˆ‘è¦ºå¾—å¾ˆå¥½åƒæ¬¸ï¼Œæœ‰è‚‰åˆæœ‰éºµç·šè¶…çˆ½ã„‰ğŸ¥ºï¼ˆå¥¶èŒ¶è¶…è®šï¼‰ä½†äººæ½®å¥½å¤šï¼Œæ’éšŠè¦æ’å¥½ä¹…ã€‚</p>
            </div>
          </div>
          <!-- æ™¯é»åç¨± -->
          <div id="section4">
            <div style="margin-bottom:20px;position:relative;">
              <i class="fa-solid fa-location-dot" style="font-size: 24px;margin-right: 10px;"></i><span
                style="font-size: 22px;font-weight: 600;">ç„¡åç±³ç³•</span>
                <a href="https://www.google.com/maps/dir/{{a_data.choice_ct.start_location_x}},{{a_data.choice_ct.start_location_y}}/{{a_data.a.location_x}},{{a_data.a.location_y}}/" target="_blank" style="text-decoration: none;">
                  <span style="font-size:20px; position: absolute;right:20px;top:10px"><i class="fa-solid fa-location-arrow"></i>å°èˆª</span>
                </a>
                <span style="font-size:14px;color:gray;position: absolute;right:20px;top:40px">è·é›¢ä¸Šå€‹é»ç´„xxåˆ†</span>
                <br>
              <h6 style="margin:10px 0 0 30px;color: rgb(95, 95, 95);font-weight: 600;">åœç•™xxåˆ†</h6>
            </div>
            <!-- æ™¯é»åœ–ç‰‡ -->
            <div class="gallery">
              <div class="image">
                <img src="../static/images/bg1.jpg" alt="Image 1">
              </div>
              <div class="image">
                <img src="../static/images/bg2.jpg" alt="Image 2">
              </div>
              <div class="image">
                <img src="../static/images/bg6.jpeg" alt="Image 3">
              </div>
            </div>
            <!-- æ™¯é»èªªæ˜ -->
            <div>
              <p>å··å…§çš„éš±è—ç¾é£Ÿ-ç„¡åç±³ç³•ã€‚<br><br>
                åœ¨å°å—çš„æœ€å¾Œä¸€é¤ï¼Œæˆ‘å€‘æ±ºå®šåœ¨ç«è»Šç«™é™„è¿‘è§£æ±ºï¼Œå› ç‚ºå¤ªæ™šæ‰å…¥å…§ç”¨é¤ï¼Œæ‰€ä»¥æ‹›ç‰Œç±³ç³•å·²ç¶“è³£å®Œã„Œï¼Œä½†æ˜¯æˆ‘å€‘é»çš„é­šé¬†é£¯ä¹Ÿå¾ˆç¾å‘³ï¼Œæˆ‘æ‰èŠ±å¹¾ç§’é˜è€Œå·²å°±åƒå…‰å…‰ã„Œï¼ï¼ˆé‡é»æ˜¯è¶…ä¾¿å®œï¼Œé€™æ¨£ä¸‰é£¯ä¸‰å°èœæ‰è³£100åˆï¼‰<br><br>
                åƒé£½é£½ï¼Œé–‹å¿ƒå›å®¶ğŸŒ·</p>
            </div>
          </div>
        </div> {% endcomment %}
        <!-- ç•™è¨€ -->
        <div style="margin-bottom:20px;">
          <h5 style="font-weight: 600;">ç•™è¨€ï¼ˆ{{ ct_detail.get_comment|length }}ï¼‰</h5>
        </div>
        <section class="comment_travel_detail">
          <section>
            {% for comment in ct_detail.get_comment %}
            <div class="review-content">
              <img class="user-img" src="{{comment.u.get_photo}}" alt="">
              <div class="comment-content">
                <div style="display: flex; justify-content: space-between; position: relative;">
                  <h6 class="username" style="font-size: 16px;">
                    {{comment.u.username}}<br>
                    <span
                      style="color: gray; font-size: 12px; font-style: italic;">{{comment.comment_date}}&ensp;</span>
                  </h6>
                  <i class="fa-solid fa-ellipsis-vertical" style="cursor: pointer;" onclick="toggleDeleteBox(this)"></i>
                  <div class="travel_delete-box" style="display: none;" onclick="deleteComment({{comment.id}})">åˆªé™¤
                  </div>
                </div>
              </div>
              {% comment %} <div>
                <i class="fa-regular fa-thumbs-up" onclick="like()"></i>
              </div> {% endcomment %}
            </div>
            <div class="comment_text">
              {{comment.content}}
              <br>
              <span style="margin-right: 20px; cursor: pointer;" id="likeButton" onclick="toggleLike()">
                {% if request.user.id in comment.get_user_favorite %}
                <i class="fa-thumbs-up fa-solid" style="color: rgb(0, 102, 255);" id="likeIcon"></i>
                {% else %}
                <i class="fa-regular fa-thumbs-up" style="color: rgb(0, 102, 255);" id="likeIcon"></i>
                {% endif %}
                <span id="likeCount">0</span>
              </span>
            </div>
            {% endfor %}
          </section>
          {% if request.user.is_authenticated %}
          <form class="ask-content" id="ask-content" action="/comment/{{detail.id}}/" method="POST"
            style="margin-top:20px;">
            <form class="share_comment-content" id="share_comment-content" action="">
              <div class="comment_container" id="comment_container">
                <h5 style="font-size: 24px;">
                  {{ detail.a_name }}
                </h5>
              </div>
              <div class="share_comment_con">
                {% comment %} <div class="review-content">
                  <div class="comment">
                    <div class="avatar">
                      <img src="{{request.user.get_photo}}" alt="User Avatar">
                    </div>
                    <div class="comment-content">
                      <div style="display: flex; justify-content: space-between; position: relative;">
                        <h6 class="username">
                          {{request.user.username}}<br>
                          <span style="color: gray; font-size: 14px; font-style: italic;">å…¬é–‹ç™¼ä½ˆ&ensp;</span>
                        </h6>
                      </div>
                    </div>
                  </div>
                </div> {% endcomment %}
                <div class="review-content">
                  <img class="user-img" src="{{request.user.get_photo}}" alt="">
                  <div class="comment-content">
                    <div style="display: flex; justify-content: space-between; position: relative;">
                      <h6 class="username" style="font-size: 16px;">
                        {{request.user.username}}<br>
                        <span style="color: gray; font-size: 12px; font-style: italic;">å…¬é–‹ç™¼ä½ˆ&ensp;</span>
                        <span class="show_tra_info" onclick="toggleTravelInfo()"><i
                            class="travel_info fa-solid fa-circle-info" id="travel_info"></i></span>
                        <div class="show_travel_info" id="show_travel_info">
                          æ‚¨çš„è²¼æ–‡æœƒèˆ‡å€‹äººè³‡æ–™åç¨±åŠç›¸ç‰‡ä¸€ä½µå…¬é–‹é¡¯ç¤ºã€‚æ‚¨çš„è²¼æ–‡å¿…é ˆéµå¾ªæ”¿ç­–çš„è¦å®šã€‚</div>
                      </h6>
                    </div>
                  </div>
                  {% comment %} <div>
                    <i class="fa-regular fa-thumbs-up" onclick="like()"></i>
                  </div> {% endcomment %}
                </div>
                <div style="margin-left:85px;">
                  <textarea name="user_share_comment" id="user_share_comment" cols="100%" rows="3"
                    style="resize:none; border-radius: 10px;width: 100%;max-width: 100%;padding: 10px;"
                    placeholder="ç•™è¨€..."></textarea>
                </div>
                <div class="image-container_ph">
                  <div id="imagePreview"></div>
                </div>
                <div class="post_share_comment">
                  <span class="share_comment_btn_ok" id="share_comment_btn_ok"
                    onclick="sendComment({{ct_detail.id}})">å¼µè²¼</span>
                </div>
              </div>
            </form>
          </form>
          {% else %}
          <div style="width:100%;text-align:center;">
            <a href="\login">
              <h5 style="font-size: 24px;">
                ç™»å…¥å¾Œå³å¯ç™¼è¡¨è©•è«–
              </h5>
            </a>
            <div>
              {% endif %}
        </section>
      </div>
      <!-- å„å€‹å¤©æ•¸å…§çš„è©³ç´°æ™¯é»å‘ˆç¾ -->
      <div class="col-3 day_att" id="myHeader" style="margin-top:20px;">
        {% for day in ct_detail.get_choice_day %}
          <div class="row">
            <div class="col-4" style="margin-top:5px;">
              <span class="day_num" id="big1">ç¬¬{{day.day}}å¤©</span>
            </div>
            <div class="col-8">
              {% for attractions in day.get_attractions %}
              <a href="#section{{day.day}}-{{forloop.counter}}">
                <h6 class="travel_att_name_one" id="{{day.day}}">{{attractions.a.a_name}}</h6>
              </a>
              {% endfor %}
            </div>
          </div>
          {% endfor %}
      </div>
    </div>
  </div>
</div>
<div class="col-1"></div>
</div>

{% comment %} <div class="row">
  <div class="col-1"></div>
  <div class="col-10 total_travel_detail">
    <div class="detail_travel_name">
      <div class="detail_travel_name__header">

        <div class="detail_travel_name__headerGrid">
          <h2 style="color: rgb(172, 78, 1)" id="attractions-detail-name"><strong>{{ct_detail.ct_name}}</strong>
          </h2>

          <div class="provider">
            <h5 style=" color:rgb(66, 65, 65);">åˆ†äº«äººï¼š<strong
                style="color:rgb(110, 109, 109);">{{ct_detail.u.username}}</strong></h5>
          </div>
          <div class="provider1_copy">
            <h5 style=" color:rgb(66, 65, 65);">ç™¼å¸ƒæ—¥æœŸï¼š<strong
                style="color:rgb(110, 109, 109);">{{ct_detail.create_date|date:"Yå¹´mæœˆdæ—¥"}}</strong></h5>
          </div>
        </div>

        <div class="detail_travel_name__headerGrid icon_add">
          {% if ct_detail.is_favorite == "1" %}
          <div class="travel_icon_name" id="submitfavorite{{ct_detail.id}}"
            onclick="addFavorite_travel(this,{{ct_detail.id}})">
            <i class="fas fa-regular fa-heart" title="å·²æ”¶è—" style="color: rgb(202, 13, 13);"></i>
          </div>
          {% else %}
          <div class="travel_icon_name" id="submitfavorite{{ct_detail.id}}"
            onclick="addFavorite_travel(this,{{ct_detail.id}})">
            <i class="fas fa-regular fa-heart" title="æ”¶è—" style="color: rgb(111, 110, 110);"></i>
          </div>
          {% endif %}

          <div class="provider1">
            <h5 style=" color:rgb(66, 65, 65);">ç™¼å¸ƒæ—¥æœŸï¼š<strong
                style="color:rgb(110, 109, 109);">{{ct_detail.create_date|date:"Yå¹´mæœˆdæ—¥"}}</strong></h5>
          </div>
        </div>
      </div>
    </div>

    <div class="travel_detail_img" style="margin-top: 20px;">
      <div class="travel_detail_img__header">
        <div class="travel_detail_img__headerGrid">
          <img src="../static/images/attractions/{{ct_detail.get_attractions_picture.0.a__place_id}}_0.jpg"
            style="margin-top: 1px; width:100%;max-width:100%;" alt="">
        </div>
        <div class="detail_img__headerGrid">
          <div class="row">
            <img
              src="/static/images/attractions/{% if picture_list.1 %}{{picture_list.1}}{% else %}{{picture_list.0}}{% endif %}"
              style=" width:100%;" alt="">
            <div class="image-container">
              <img
                src="../static/images/attractions/{% if ct_detail.get_attractions_picture.1.a__place_id %}{{ ct_detail.get_attractions_picture.1.a__place_id }}_0.jpg {% else %}{{ ct_detail.get_attractions_picture.0.a__place_id }}_1.jpg{% endif %}"
                style="width: 100%;" alt="">
              <img
                src="../static/images/attractions/{% if ct_detail.get_attractions_picture.2.a__place_id %}{{ ct_detail.get_attractions_picture.2.a__place_id }}_0.jpg {% else %}{{ ct_detail.get_attractions_picture.0.a__place_id }}_2.jpg{% endif %}"
                style="width: 100%;margin-top: 2px;" alt="">
            </div>
          </div>
        </div>
      </div>
    </div>

    <div>
      <h5 style="font-size: 24px;"> <i class="fa-solid fa-flag" style="margin-right:5px;color:#4a7ba7;;"></i></i>è¡Œç¨‹ç°¡ä»‹
      </h5>
      <h6 style="margin:15px 0px 30px 35px;"><span style="color:blue;">{% if ct_detail.detail == "" %}ç›®å‰é‚„æ²’æœ‰å…§å®¹{% else
          %}{{ct_detail.detail}}{% endif %}</span></h6>
    </div>

    <div>
      <h5 style="margin:0px 0px 20px 0px;font-size: 24px;"> <i class="fa-solid fa-calendar-check"
          style="margin-right:5px;color: rgb(221, 180, 85);"></i>è¡Œç¨‹è¦åŠƒ</h5>
      <div class="dayDoneSection">
        <div class="dayDone">
          <div class="dayDoneBtn">
            {% for day in ct_detail.get_choice_day %}
            <div class="dayDiv" id="dayDiv{{forloop.counter}}" data-day="{{forloop.counter}}"
              style="float: left; {% if forloop.counter == 1 %}color:orange;{% endif %}"
              onclick="clickDay({{forloop.counter}})">
              <i class="fa-regular fa-calendar"></i> DAY {{forloop.counter}}
            </div>
            {% endfor %}
          </div>
        </div>
        {% for data in all_data %}
        <div class="classDayContent" id="content{{forloop.counter}}" style={% if forloop.counter==1 %}"display:
          block;"{% else %}"display: none;"{% endif %}>
          <div class="dayContent">
            <div
              style="height: 250px;min-width:80px;display: flex;justify-content: center;align-items: center;align-content: center;">
              èµ·å§‹<br>ä½ç½®
            </div>
            {% for a_data in data.ct_attraction %}
            {{a_data.a_id.start_location_y}}
            {% if forloop.counter == 1 %}
            <div class="car_time">
              <a href="https://www.google.com/maps/dir/{{a_data.choice_ct.start_location_x}},{{a_data.choice_ct.start_location_y}}/{{a_data.a.location_x}},{{a_data.a.location_y}}/"
                target="_blank" style="text-decoration: none;color: black;">

                <img src="/static/images/New Project.jpg" alt="" class="car_icon">
                <p>ç´„<br> {{ a_data.distance_time }}<br>åˆ†é˜</p>
              </a>
            </div>

            {% else %}
            <div class="car_time">
              <a href="https://www.google.com/maps/dir/{{a_data.get_previous.a.location_x}},{{a_data.get_previous.a.location_y}}/{{a_data.a.location_x}},{{a_data.a.location_y}}/"
                target="_blank" style="text-decoration: none;color: black;">

                <img src="/static/images/New Project.jpg" alt="" class="car_icon">
                <p>ç´„<br> {{ a_data.distance_time }}<br>åˆ†é˜</p>
              </a>
            </div>
            {% endif %}
            <div class="dayContentIntro" style="text-align: center;">
              <p style="font-size: 20px;"><b>{{a_data.a.a_name}}</b></p>
              <p>ç‡Ÿæ¥­æ™‚é–“<br>{% for open in a_data.opening.opening %} {% if forloop.counter != 1 %} <br> {% endif
                %}{{open}}
                {% endfor %}</p>
              <p>åœç•™æ™‚é–“ï¼š{{a_data.stay_time}}åˆ†é˜</p>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endfor %}
      </div>
      <div>


      </div>
    </div>
    <div class="col-1"></div>
  </div> {% endcomment %}
  <script>
    // stickyé»åœ¨é ‚éƒ¨ï¼ˆæ–¹ä¾¿çœ‹ï¼‰
    window.onscroll = function () {
      myFunction();
    };
    var header = document.getElementById("myHeader");
    var triggerPoint = document.getElementById("triggerPoint");
    var headerTop = header.offsetTop;

    function myFunction() {
      var scrollPosition = window.pageYOffset;
      // åˆ¤æ–·æ˜¯å¦æ»‘éç‰¹å®šå€åŸŸ
      if (scrollPosition >= triggerPoint.offsetTop) {
        header.classList.add("sticky");
      } else {
        header.classList.remove("sticky");
      }
    }
    // æ»‘åˆ°è©²æ™¯é»çš„æ™‚å€™äº®é¡è‰²(pink)
    const titles = document.querySelectorAll('.travel_att_name_one');
    const sections = document.querySelectorAll('.section');
    const bigs = document.querySelectorAll('.day_num');
    window.addEventListener('scroll', () => {
      let currentSection = 0;
      let minDistance = Infinity;
      sections.forEach((section, index) => {
        const distance = Math.abs(section.getBoundingClientRect().top);
        if (distance < minDistance) {
          minDistance = distance;
          currentSection = index;
        }
      });
      titles.forEach(title => title.style.color = 'gray');
      bigs.forEach(big => big.style.color = 'gray');
      titles.forEach((title, index) => {
        if(index === currentSection){
          title.style.color ='rgb(255, 58, 160)';
          bigs[parseInt(title.id)-1].style.color = 'blue';
        };
      });
    });

    // æ»‘åˆ°è©²å¤©æ•¸çš„æ™‚å€™äº®é¡è‰²ï¼ˆblue)
    {% comment %} const bigs = document.querySelectorAll('.day_num');
    const secs = document.querySelectorAll('.day_name');
    window.addEventListener('scroll', () => {
      let currentSec = 0;
      let minDis = Infinity;
      secs.forEach((sec, index) => {
        const dis = Math.abs(sec.getBoundingClientRect().top); // ä½¿ç”¨ sec è€Œä¸æ˜¯ section
        console.log(dis);
        if (dis < minDis) {
          minDis = dis;
          currentSec = index;
        }
      });
      bigs.forEach(big => big.style.color = 'gray');
      bigs.forEach((big, index) => {
        big.style.color = index === currentSec ? 'blue' : '';
      });
    }); {% endcomment %}

    {% comment %} è©•è«–å…¬é–‹é¡¯ç¤ºtips {% endcomment %}
    function toggleTravelInfo() {
      var infoDiv = document.getElementById('show_travel_info');
      infoDiv.style.display = (infoDiv.style.display === 'none' || infoDiv.style.display === '') ? 'block' : 'none';
    }

    {% comment %} æŒ‰è®šåŠŸèƒ½(é‚„æ²’ä¸²å¾Œç«¯) {% endcomment %}
    function toggleLike() {
      var likeIcon = document.getElementById('likeIcon');
      var likeCount = document.getElementById('likeCount');
      var currentCount = parseInt(likeCount.innerText);

      if (likeIcon.classList.contains('fa-thumbs-up') && likeIcon.classList.contains('fa-solid')) {
        likeIcon.classList.remove('fa-thumbs-up', 'fa-solid');
        likeIcon.classList.add('fa-regular', 'fa-thumbs-up');
        likeCount.innerText = currentCount - 1;
      } else {
        likeIcon.classList.remove('fa-regular', 'fa-thumbs-up');
        likeIcon.classList.add('fa-thumbs-up', 'fa-solid');
        likeCount.innerText = currentCount + 1;
      }
    }
    {% comment %} åˆªé™¤å°é»é» {% endcomment %}
    function toggleDeleteBox(iconElement) {
      var deleteBox = iconElement.nextElementSibling;
      if (deleteBox.style.display === "none" || deleteBox.style.display === "") {
        deleteBox.style.display = "block";
      } else {
        deleteBox.style.display = "none";
      }
      document.addEventListener('click', function (event) {
        if (!deleteBox.contains(event.target) && event.target !== iconElement) {
          deleteBox.style.display = 'none';
        }
      });
    }

    function deleteComment(commentId) {

    }
    // ç²å–æŒ‰éˆ•å…ƒç´ 
    /*var newestButton = document.querySelector('.btn-style-2:nth-child(2)');
    var oldestButton = document.querySelector('.btn-style-2:nth-child(3)');
  
    // æ·»åŠ é»æ“Šäº‹ä»¶ç›£è½å™¨
    newestButton.addEventListener('click', function() {
      // æ·»åŠ è—è‰²æ¨£å¼
      newestButton.style.backgroundColor = '#0066DB';
      // ç§»é™¤å…¶ä»–æŒ‰éˆ•çš„è—è‰²æ¨£å¼
      oldestButton.style.backgroundColor = '';
    });
  
    oldestButton.addEventListener('click', function() {
      // æ·»åŠ è—è‰²æ¨£å¼
      oldestButton.style.backgroundColor = '#0066DB';
      // ç§»é™¤å…¶ä»–æŒ‰éˆ•çš„è—è‰²æ¨£å¼
      newestButton.style.backgroundColor = '';
    });*/
    function like() {
      alert('å·²æŒ‰è®š');
    }
    const contentMap = {
      1: document.getElementById('content1'),
      2: document.getElementById('content2')
    };
    {% comment %} function clickDay(dayNumber) {
      const dayDiv1 = document.getElementById('dayDiv' + dayNumber);
      dayDiv1.style.backgroundColor = 'red';
      openContent(dayNumber);
    } {% endcomment %}
    let lastClicked = false;

    function clickDay(dayNumber) {
      let content = document.querySelectorAll('.classDayContent');
      let clickContent = document.getElementById('content' + dayNumber);
      const dayDiv = document.querySelectorAll('.dayDiv');
      const dayDiv1 = document.getElementById('dayDiv' + dayNumber);
      if (clickContent.style.display == 'block') {
        // å¦‚æœé€£çºŒé»æ“ŠåŒä¸€å¤©ï¼Œå‰‡é—œé–‰å°æ‡‰å…§å®¹
        //clickContent.style.display = 'none';
        //dayDiv1.style.color="";
      } else {
        for (let i = 0; i < content.length; i++) {
          content[i].style.display = 'none';
          dayDiv[i].style.color = "";
        }
        clickContent.style.display = 'block';
        dayDiv1.style.color = 'orange';
      }
    }

    {% comment %}
    // äº‹ä»¶ä»£ç†ï¼Œç›£è½æ‰€æœ‰.dayDivçš„é»æ“Šäº‹ä»¶
    document.addEventListener('click', function (event) {
      if (event.target.classList.contains('dayDiv')) {
        const dayNumber = parseInt(event.target.getAttribute('data-day'));
        openContent(dayNumber);
      }
    }); {% endcomment %}
    function sendComment(cid) {
      var isPostConfirmed = confirm("ç¢ºå®šè¦å¼µè²¼è©•è«–å—ï¼Ÿ");

      if (isPostConfirmed) {
        // åœ¨é€™è£¡åŸ·è¡Œå¼µè²¼çš„ç›¸é—œæ“ä½œ
        $.ajax({
          url: '/travel_comment/',
          type: 'POST',
          data: {
            'csrfmiddlewaretoken': '{{ csrf_token }}',
            'comment': $('#user_share_comment').val(),
            'cid': cid,
          },
          success: function (data) {
            location.reload()
          }
        });
        alert("å¼µè²¼æˆåŠŸ");
      } else {
        alert("å·²å–æ¶ˆå¼µè²¼");
      }
    }

    /*document.getElementById('share_comment_btn_cancel').addEventListener('click', function () {
        var isCancelConfirmed = confirm("ç¢ºå®šè¦å–æ¶ˆå—ï¼Ÿ");
  
        if (isCancelConfirmed) {
            // åœ¨é€™è£¡åŸ·è¡Œå–æ¶ˆçš„ç›¸é—œæ“ä½œ
            alert("å–æ¶ˆæˆåŠŸ");
        } else {
            alert("å·²å–æ¶ˆå–æ¶ˆ");
        }
    });*/
  </script>
  <script src="/static/js/travel_detail.js"></script>
  <script src="/static/js/addFavorite.js"></script>
  {% comment %} {{u_id}}
  <p>{{ ct_id }}</p>
  <p>{{ ct_detail }}</p>
  <p>{{ ct_choiceday }}</p>
  <p>{{ ct_attraction }}</p> {% endcomment %}
  {% endblock body %}
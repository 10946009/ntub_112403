{% extends 'base.html' %}

{% block title %}行程詳細頁面{% endblock %}

{% block content %}
{% comment %} CSS放這~~ {% endcomment %}
.comment-card {
    border: 1px solid #ddd;
    padding: 10px;
    margin: 10px;
    background-color: #f9f9f9;
}

.comment-card h3 {
    font-size: 20px;
    color: #333;
}

.comment-card p {
    font-size: 16px;
    color: #666;
}

.comment-card .rating {
    font-size: 18px;
    color: #FFD700;
}

label, select, input, button {
    margin: 10px;
}

#filter-button {
    background-color: #007BFF;
    color: #fff;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
}

#search-box {
    border: 1px solid #ddd;
    padding: 5px;
}
{% endblock %}



{% block body %}
{% comment %} 內容在這~~~ {% endcomment %}
<!DOCTYPE html>
<html>
<head>
    <title>行程評論</title>
    <style>
        /* 樣式評論和篩選條件 */
    </style>
</head>
<body>
    <h1>行程評論</h1>

    <!-- 篩選條件 -->
    <label for="sort-by">排序：</label>
    <select id="sort-by">
        <option value="newest">最新</option>
        <option value="rating">評分</option>
    </select>
    <button id="filter-button">篩選</button>

    <input type="text" id="search-box" placeholder="搜尋評論">

    <div id="comments">
    </div>

    <script>

        const comments = [
        ];

        function filterAndDisplayComments() {
            const sortBy = document.getElementById("sort-by").value;
            const searchKeyword = document.getElementById("search-box").value.toLowerCase();

            const filteredComments = comments.filter(comment => {
                return comment.text.toLowerCase().includes(searchKeyword);
            });

            if (sortBy === "newest") {
                filteredComments.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            } else if (sortBy === "rating") {
                filteredComments.sort((a, b) => b.rating - a.rating);
            }

            const commentsContainer = document.getElementById("comments");
            commentsContainer.innerHTML = "";

            filteredComments.forEach(comment => {
                const commentCard = document.createElement("div");
                commentCard.classList.add("comment-card");
                commentsContainer.appendChild(commentCard);
            });
        }

        filterAndDisplayComments();

        document.getElementById("filter-button").addEventListener("click", filterAndDisplayComments);

        document.getElementById("search-box").addEventListener("input", filterAndDisplayComments);
    </script>
</body>
</html>
{% endblock body %}